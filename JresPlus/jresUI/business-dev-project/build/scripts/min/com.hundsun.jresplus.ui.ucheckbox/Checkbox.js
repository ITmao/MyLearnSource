Horn.Checkbox=Horn.extend(Horn.Field,{COMPONENT_CLASS:"Checkbox",checkbox:null,init:function(){Horn.Checkbox.superclass.init.apply(this,arguments);this.checkbox=this.el.find("input:checkbox")},getEventTarget:function(){return this.el.find("input:checkbox")},initEvents:function(){var b=this;var a=b.el.find("input:checkbox[check*=required]");if(a&&a.size()>0){this.checkRegx=$(a[0]).attr("check").split(";");a.each(function(c,d){$(d).bind("click",function(){var e=b.el.children("div").children("label").find("input:checkbox[checked]");var f=$(this).get(0).checked;if(f){b.removeError()}else{b.showError()}})})}},showError:function(){var b=this;if(!this.msgDiv){this.msgDiv=$('<div class="m-verify-tip bottom" role="m-verify-tip" style="display: none;"></div>');this.el.after(this.msgDiv)}var a=this.msgDiv;a.html('<div class="verify-tip-arrow"></div><div class="verify-tip-inner">当前复选框不能为空</div>');a.css("display","block");b.el.addClass("m-verify-error");b.el.removeClass("m-verify-success");b.err=true},removeError:function(){var b=this;b.el.removeClass("m-verify-error");b.el.addClass("m-verify-success");b.err=false;var a=this.msgDiv;if(a){a.remove()}delete this.msgDiv},setValue:function(a){if(this.checkbox.get(0)){this.checkbox.get(0).checked=!!a}if(a&&$.type(a)!="boolean"){this.setStaticValue(a)}this.checkbox.val(a)},setStaticValue:function(a){this.checkbox.val(a)},validate:function(){var c=this;var a=this.el.find("input:checkbox[check*=required]");if(a&&a.size()>0){if(c.disabled===true){c.err=false;return}var b=this.checkbox.get(0).checked;if(!b){c.err=true;c.showError("该选项不能为空")}else{c.err=false;c.removeError()}}},getValue:function(){return this.checkbox.val()}});Horn.Field.regFieldType("div.hc_checkbox",Horn.Checkbox);