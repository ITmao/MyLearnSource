var Horn=Horn||{};(function(b){var c=function(A){if(window.event){Horn.debug("event keycode = ",window.event.keyCode);var u=window.event;var k=u.srcElement;Horn.debug("firedObj = ",k);$(k).blur()}var y='<div class="m-message-positon"  id="h_msg_floatdiv"><div class="m-message-header"><h4 class="m-message-title"></h4></div><div class="g-wrap m-message-body m-brt-none" ><div class="m-body-words"><span class="m-message-icon"><i class="fa fa-question"></i></span></div></div><div class="h_btndiv m-message-footer"></div></div>';var z=$(y);if(A.msgTitle){z.find(".m-message-header h4").html(A.msgTitle);z.find(".m-message-header").attr("title",A.msgTitle)}if(A.msgText){z.find(".m-body-words").append(A.msgText);z.find(".m-body-words").attr("title",A.msgText)}if(A.width){z.css("width",A.width+"px")}if(A.height){z.css("height",A.height+"px")}else{z.css("height","auto")}if(A.msgType){z.find(".m-message-icon").removeClass().addClass("m-message-icon "+A.msgType)}if(A.msgCss){z.find(".m-message-icon i").removeClass().addClass("fa "+A.msgCss)}var o='<button type="button" id="buttonOK" class="h_btn-submit u-btn u-btn-primary">确定</button>';var l='<button type="button" id="buttonCancel" class="h_btn-cencel u-btn">取消</button>';var m=o+l;if(A.msgType&&A.msgType==Horn.Msg.CONFIRM){z.find(".h_btndiv").html(m)}else{z.find(".h_btndiv").html(o)}var n=jQuery.support.boxModel;var B=document.documentElement;var q=n&&B.clientWidth||document.body.clientWidth;var t=n&&B.clientHeight||document.body.clientHeight;var s=n&&B.scrollLeft||document.body.scrollLeft;var f=n&&B.scrollTop||document.body.scrollTop;var e=n&&B.scrollHeight||document.body.scrollHeight;var r=n&&B.scrollWidth||document.body.scrollWidth;var g="100%";var p="100%";if(s==0&&r<800){g="100%"}else{var x=r+s;g=x+"px"}if(f==0&&e<500){p="100%"}else{var i=e+f;p=i+"px"}var C=$("<div></div>").append('<div class="m-message-bg" id="h_msg_bg"></div>').append(z.clone());C.find("div.m-message-bg").css("width",g).css("height",p);var v=C.find(".h_btn-submit");if(v.length>0){v.unbind("click");v.bind("click",function(){if(top.Horn&&top.Horn.Window){top.Horn.Window.MAX_ZINDEX=top.Horn.Window.MAX_ZINDEX-2}else{Horn.Window.MAX_ZINDEX=Horn.Window.MAX_ZINDEX-2}C.remove();if(Horn.Window.getPrevOpen()<1){$("body").removeClass("h-overflow-hidden");$("html").removeClass("h-overflow-hidden")}if(A.onOK){A.onOK()}})}var j=C.find(".h_btn-cencel");if(j.length>0){j.unbind("click");j.bind("click",function(){if(top.Horn&&top.Horn.Window){top.Horn.Window.MAX_ZINDEX=top.Horn.Window.MAX_ZINDEX-2}else{Horn.Window.MAX_ZINDEX=Horn.Window.MAX_ZINDEX-2}C.remove();if(Horn.Window.getPrevOpen()<1){$("body").removeClass("h-overflow-hidden");$("html").removeClass("h-overflow-hidden")}if(A.onCancel){A.onCancel()}})}C.find(".m-message-bg").css("z-index",Horn.Window.getNextZIndex());C.find(".m-message-positon").css("z-index",Horn.Window.getNextZIndex());if(Horn.Window.getOpen()<1){$("html").addClass("h-overflow-hidden")}Horn.Window.getNextOpen();$("body").prepend(C);a(C.find(".m-message-positon"));$(window).resize(function(){if(C&&!C.is(":hidden")){a(C.find(".m-message-positon"))}});C.mousewheel(function(){return false})};var a=function(e){var l=$(window),g=e,j=0,f=0;var o=l.height();var k=l.width();var m=g.height();var i=g.width();j=o-m;f=k-i;var n=j/2+$(document).scrollTop();var h=f/2+$(document).scrollLeft();g.css("top",n+"px");g.css("left",h+"px")};var d=function(e){this.params={width:350};Horn.apply(this.params,e);c(this.params)};b.Msg={INFO:"m-message-info",WARNING:"m-message-warning",ERROR:"m-message-error",CONFIRM:"m-message-success",show:function(e){d(e)},alert:function(h,g,f){var e={msgTitle:h,msgText:g,onOK:f,msgType:this.INFO,msgCss:"fa-check"};d(e)},warning:function(h,g,f){var e={msgTitle:h,msgText:g,onOK:f,msgType:this.WARNING,msgCss:"fa-exclamation"};d(e)},wraning:function(h,g,f){var e={msgTitle:h,msgText:g,onOK:f,msgType:this.WARNING,msgCss:"fa-exclamation"};d(e)},error:function(h,g,f){var e={msgTitle:h,msgText:g,onOK:f,msgType:this.ERROR,msgCss:"fa-times"};d(e)},confirm:function(i,h,f,e){var g={msgTitle:i,msgText:h,onOK:f,onCancel:e,msgType:this.CONFIRM,msgCss:"fa-question"};d(g)}}})(Horn);