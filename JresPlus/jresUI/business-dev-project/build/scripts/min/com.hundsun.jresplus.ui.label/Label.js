Horn.Label=Horn.extend(Horn.Base,{COMPONENT_CLASS:"Label",el:null,dictName:null,staticDict:null,mutiValue:null,init:function(e){Horn.Label.superclass.init.apply(this,arguments);var d=this.params;if(d.name||d.hiddenName){this.name=d.name||d.hiddenName}this.mutiValue=$(e).attr("mutivalue");this.label=this.el.prev("span");this.hidden=this.el.find("input:hidden");if(d.hiddenName){this.hidden=this.el.next("input:hidden")}this.li=this.el.parent();if(this.hidden){this.el.parent().append(this.hidden)}var j=d.dictName,a=d.items,h=d.labelField||"label",k=d.valueField||"value",b=d.delimiter,l=this.hidden.get(0)?this.hidden.val():this.el.html();if(b==""||this.delimiter){this.delimiter=b;this.mutiValue=true}else{this.delimiter=","}if(a){var c={};for(var g=0;g<a.length;g++){var f=a[g];c[f[h]]=f[k]}a=c}if(j){this.dictName=j;a=Horn.getDict(j)}this.staticDict=a;if(l){this.setValue(l)}},setValue:function(d){d=$.trim(d);if(this.hidden){this.hidden.val(d)}var h=this.dictName,b=this.staticDict;var e=function(k){var j="";if(b){j=b[k]||k}else{if(h){var i=$(".hc_checkboxdiv[ref_target="+h+"_s]").find("li[key="+k+"]");j=i.attr("title")||k}else{j=k}}return j};var a="";var g=false;if(!d){d=""}if(this.mutiValue){var c=[];$(d.split(this.delimiter)).each(function(i,k){var j=e(k);c.push(j||k)});a=c.join(this.delimiter||",");g=true}else{a=e(d)}this.el.html(a);var f=this.el.attr("title");if(g){this.el.addClass("hc_texthide")}this.el.attr("title",a)},getValue:function(){if(this.hidden.get(0)){return this.hidden.val()}return this.el.text()},setLabel:function(a){this.label.html(a)},getLabel:function(){return this.label.html()},hide:function(){this.li.hide()},show:function(){this.li.show()}});Horn.regUI("div.hc_label",Horn.Label);