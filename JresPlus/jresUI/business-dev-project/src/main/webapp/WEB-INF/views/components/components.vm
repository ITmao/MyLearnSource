#**   
 * @author zhouzx   
 * @class
 * @name screen_start
 * @param title {String} 标题
 * @param id {String} 唯一标识
 * @param cols {String} 列数
 * @description screen_start组件，是screen中最顶层的容器开始组件，需要配以#screen_end实现
 * @see The <a href="zhouzx@hundsun.com">huling</a >.   
 * @example \#screen_start({"title":"联合开户"})
 * @since version 0.1
 *#	
#**
 * @lends screen_start
 *#
 #**
  * 修改记录：
  * 
  *
  *#
#macro(screen_start $uiScreenConfig)
#set($layoutcolumn = 3)
#if($uiScreenConfig.cols) 
	#set($layoutcolumn = $uiScreenConfig.cols)
#end
<div id="$!{uiScreenConfig.id}" class="g-screen">
		<h1><span>$!{uiScreenConfig.title}</span></h1>
#end
#**   
 * @author zhouzx   
 * @class
 * @name screen_start
 * @param title {String} 标题
 * @param id {String} 唯一标识
 * @param cols {String} 列数
 * @param showLabel(String) select或combox组件数据字典类型的是否显示key值 ，默认不显示,true为显示，false为不显示。(注！showLabel为true,整个sreen里的数据字典组件都显示key，反之不显示)
 * @description screen组件
 * @see The <a href="zhouzx@hundsun.com">huling</a >.   
 * @example \#@screen({"title":"联合开户","showLabel":"true"})
 * @since version 0.1
 *#	
#**
 * @lends screen
 *#
#macro(screen $uiScreenConfig)
	<div id="$!{uiScreenConfig.id}" class="g-screen">
		<h1><span>$!{uiScreenConfig.title}</span></h1>
		$bodyContent
	</div>
	<div class="hc_hide_div">
		#csrf_page_token()
		#if(!$dictManager)
			$horn.logDictManagerNotExist();
		#end
		#foreach($componentSelect in $!componentSelects_m)
			<div class="hc_checkboxdiv" multiple_line="true" ref_target="${componentSelect}_m">
				<ul>
					#foreach($dictEntry in $dictManager.getDicts($componentSelect))
					<li key="${dictEntry.label}" pKey="$!{dictEntry.pLabel}" title="${dictEntry.value}">
						<label>
						<input type="checkbox" class="combox_input">
							#if($uiScreenConfig.showLabel&&"$!uiScreenConfig.showLabel"=="true")<span class="hce_dictlabel" >${dictEntry.label}:</span>#end${dictEntry.value}
						</label>
					</li>
					#end
				</ul>
			</div>
		#end
		#foreach($componentSelect in $!componentSelects_s)
			<div class="hc_checkboxdiv" multiple_line="false" ref_target="${componentSelect}_s">
				<ul>
					#foreach($dictEntry in $dictManager.getDicts($componentSelect))
					<li key="${dictEntry.label}" pKey="$!{dictEntry.pLabel}" title="${dictEntry.value}">
						<label>
						#if($uiScreenConfig.showLabel&&"$!uiScreenConfig.showLabel"=="true")<span class="hce_dictlabel" >${dictEntry.label}:</span>#end${dictEntry.value}
						</label>
					</li>
					#end
				</ul>
			</div>
		#end
	    #jscode()
			Horn.paramCaches = Horn.paramCaches || {};
    		Horn.apply(Horn.paramCaches,$!horn.printParamCaches());
    		#if($ToBackField)
        		#foreach($backFild in $ToBackField)
        			Horn.Validate.addError("$backFild.label","$backFild.value");
        		#end
    		#end
    		#foreach($tipMessage in $tipMessages)
    			Horn.Tip.show("$tipMessage.type","$tipMessage.message") ;
    		#end
			#if(true == $devMode)
				Horn.debug_=true;
				if(BigPipe){
					BigPipe.debug_=true;
				}
			#else
				Horn.debug_=false;
				if(BigPipe){
					BigPipe.debug_=false;
				}
			#end
    	#end
	</div>
	#set($uiScreenConfig = {})
#end
#**   
 * @author zhouzx   
 * @class
 * @name screen_end
 * @description screen_end组件，是screen中最顶层的容器结束组件，需要配以#screen_start实现
 * @see The <a href="zhouzx@hundsun.com">huling</a >.   
 * @example \#screen_end
 * @since version 2.0
 *#	
#**
 * @lends screen_end
 *#
#macro(screen_end)
</div>
	<div class="hc_hide_div">
		#foreach($componentSelect in $!componentSelects_m)
			<div class="hc_checkboxdiv" multiple_line="true" ref_target="${componentSelect}_m">
				<ul>
					#foreach($dictEntry in $dictManager.getDicts($componentSelect))
					<li key="${dictEntry.label}" pKey="$!{dictEntry.pLabel}" title="${dictEntry.value}">
						<label>
						<input type="checkbox" class="combox_input">
							#if($uiScreenConfig.showLabel&&"$!uiScreenConfig.showLabel"=="true")<span class="hce_dictlabel" >${dictEntry.label}:</span>#end${dictEntry.value}
						</label>
					</li>
					#end
				</ul>
			</div>
		#end
		#foreach($componentSelect in $!componentSelects_s)
			<div class="hc_checkboxdiv" multiple_line="false" ref_target="${componentSelect}_s">
				<ul>
					#foreach($dictEntry in $dictManager.getDicts($componentSelect))
					<li key="${dictEntry.label}" pKey="$!{dictEntry.pLabel}" title="${dictEntry.value}">
						<label>
						#if($uiScreenConfig.showLabel&&"$!uiScreenConfig.showLabel"=="true")<span class="hce_dictlabel" >${dictEntry.label}:</span>#end${dictEntry.value}
						</label>
					</li>
					#end
				</ul>
			</div>
		#end
	    #jscode()
			Horn.ready(function(){
				if(window.doLayout){
					window.doLayout();
				}
			});
			Horn.paramCaches = Horn.paramCaches || {};
    		Horn.apply(Horn.paramCaches,$!horn.printParamCaches());
    		#if($ToBackField)
        		#foreach($backFild in $ToBackField)
        			Horn.Validate.addError("$backFild.label","$backFild.value");
        		#end
    		#end
    		#foreach($tipMessage in $tipMessages)
    			Horn.Tip.show("$tipMessage.type","$tipMessage.message") ;
			#end
			#if(true == $devMode)
				Horn.debug_=true;
			#end
    	#end
			</div>
		#set($uiScreenConfig = {})
#end
#macro(getValue $uiGetValueParam)
	$horn.getValue($uiGetValueParam)
#end
#macro(resource_include)
	<!--resources-->
	#if($headStyleLinks)
	    #foreach($headStyleLink in $headStyleLinks)
	    <link rel="stylesheet" href="$imageServer.get($headStyleLink)" type="text/css">
	    #end
    #end
    #if($headScriptLinks)
    	#foreach($headScriptLink in $headScriptLinks)
    	<script src="$imageServer.get($headScriptLink)" type="text/javascript"></script>
    	#end
	#end	
#end
##三元表达式的宏
#macro(nt $p1 $p2)
	#if($p1)$p1#else$p2#end
#end
#**   
 * @author huling   
 * @class
 * @name blankcol
 * @param id {String} 唯一标识
 * @param cols {String} 跨列数
 * @description blankcol组件，空白占位符组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#blankcol({"cols":"3"})
 * @since version 0.1
 *#	
#**
 * @lends blankcol
 *#
#macro(blankcol $uiBlankcolConfig)
	
#end
#**   
 * @author huws   
 * @class
 * @name secure_html
 * @param content ｛String｝ 要进行Html转义的内容
 * @description secure_html工具宏\使用场景：\1.当在HTML标签中使用输出的变量的时候，需要对变量进行encode，否则容易出现XSS攻击漏洞。比如<div>$var</di>应该写成<div>#secure_html($var)</div>;或者：#textarea({"label":"测试请假原因：","name":"reason1","cols":"2","value":"${reason}" })应该写成：#textarea({"label":"测试请假原因：","name":"reason1","cols":"2","value":"#secure_html(${reason})" })\2.HTML属性中使用到了输出的变量也需要使用这个标签来增强安全性。例如：<div id="xxx" name="$var"></div>,要使用<div id="xxx" name="#secure_html($var)"></div>
 * @see 
 * @example \#secure_html($content)
 * @since version 1.0.21
 *#	
#macro(secure_html $content)
$securityUtil.encodeHtml($content)
#end


#**   
 * @author huws   
 * @class
 * @name secure_js
 * @param content ｛String｝ 要进行javascript转义的内容
 * @description secure_js工具宏，对js关键字等进行转义\使用场景:\1.js片段里面如果用到了输出的变量，这些变量可以使用secure_js宏来避免XSS攻击。例如<script> var x="$var";</script>要写成<script> var x="#secure_js($var)";</script>2.在事件中使用输出的变量时，也需要使用这个宏，比如:<a href=# onclick="funXX('$var')" >XXX</a>这种情况要这么写：<a href=# onclick="funXX(#secure_js('$var'))" >XXX</a>
 * @see 
 * @example \#secure_js($content)
 * @since version 1.0.21
 *#	
#macro(secure_js $content)
$securityUtil.encodeJS($content)#end


#**   
 * @author huws   
 * @class
 * @name secure_url
 * @param content ｛String｝ 要进行URL转义的内容
 * @description secure_url工具宏,对url中的参数进行转义\在RL地址中使用了输出变量，则可以使用这个宏来增强安全性，避免XSS攻击。比如：<a href="xxxx?test=$var">XXX</a>里面应该这么写：<a href="xxxx?test=#secure_url($var)">XXX</a>
 * @see 
 * @example \#secure_url($content)
 * @since version 1.0.21
 *#	
#macro(secure_url $content)
$securityUtil.encodeURL($content)#end

#**   
 * @author huws   
 * @class
 * @name csrf_url_token
 * @param 没有参数
 * @description 防csrf攻击的宏，用于保护ajax请求或者连接地址，如果是连接地址，可以这么使用：url: "${appServer}/security/ajaxsubmit.json?#csrf_url_token()&paramxxx=xxx",
 * @see 
 * @example \#csrf_url_token)
 * @since version 1.0.21
 *#	
#macro(csrf_url_token)
csrf_token=${csrf_token}#end

#**   
 * @author huws   
 * @class
 * @name csrf_page_token
 * @param 没有参数
 * @description 防csrf攻击的宏，用于保护页面，增加了这个宏，就会默认增加一个token的隐藏域，可以放在form里面，或者放在页面的任何位置
 * @see 
 * @example \#csrf_page_token)
 * @since version 1.0.21
 *#	
#macro(csrf_page_token)
<input type="hidden" name="csrf_token" id="csrf_token" value="$!{csrf_token}"/>#end
#**   
 * @author zhangchao   
 * @class
 * @name button_group
 * @param name 名称
 * @param label 标签
 * @param cols {String} 跨列数
 * @param buttons {Json} 自定义按钮组 格式如："buttons":[{"name":"查询", "class":"h_btn-cencel", "event":"lhkh.query()"}] 名称 样式名 点击事件
 * @description 按纽组件组
 * @see
 * @example \#button_group({"buttons":[{"name":"查询", "class":"h_btn-cencel", "event":"lhkh.query()"}]}) 注：内含“内提”、“重置”按钮，后面才是自己添加的button
 * @since version 0.1
 *#	
#**
 * @lends button_group
 *#
#macro(button_group $uiButtonGroupConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiButtonGroupConfig.cols&&$uiButtonGroupConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiButtonGroupConfig.cols)
				#if($uiButtonGroupConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiButtonGroupConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiButtonGroupConfig.cols)
				#if($uiButtonGroupConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiButtonGroupConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiButtonGroupConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
	#end
	<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
		    <div class="g-grid-8">
				<div id="$!{uiButtonGroupConfig.id}" $horn.paramsCache($uiButtonGroupConfig)  name="$!{uiButtonGroupConfig.name}" class="hc_button-group" >
            		#if($uiButtonGroupConfig.buttons)
            			#foreach($button in $uiButtonGroupConfig.buttons)
            				<button type="button" #if($button.refmenu)refmenu="$button.refmenu"#end class="u-btn #if($button.className)$button.className#else u-btn-default#end" name="$!{button.name}" onclick="$!{button.event}">$!{button.label}</button>
            			#end
            		#end
        		</div>
			</div>
	    </div>
	 </div>
	#set($uiButtonGroupConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name button_panel
 * @param id {String} 唯一标识
 * @param buttons {Json} 自定义按钮组 格式如："buttons":[{"name":"查询", "class":"h_btn-cencel", "event":"lhkh.query()"}] 名称 样式名 点击事件
 * @description button_panel组件，按钮面板组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#button_panel({"buttons":[{"name":"查询", "class":"h_btn-cencel", "event":"lhkh.query()"}]}) 注：内含“内提”、“重置”按钮，后面才是自己添加的button
 * @since version 0.1
 *#	
#**
 * @lends button_panel
 *#
#macro(button_panel $uiButtonPanelConfig)
	<div id="$!{uiButtonPanelConfig.id}" $horn.paramsCache($uiButtonPanelConfig)  class="h_btndiv u-button-group" name="$!{uiButtonPanelConfig.name}">
		<button type="submit" class="u-btn u-btn-primary" name="button_submit">#if($uiButtonPanelConfig.submitLabel&&"$!uiButtonPanelConfig.submitLabel"!="")$!{uiButtonPanelConfig.submitLabel}#else 提交#end</button>
		<button type="reset" class="u-btn u-btn-default" name="button_reset">#if($uiButtonPanelConfig.resetLabel&&"$!uiButtonPanelConfig.resetLabel"!="")$!{uiButtonPanelConfig.resetLabel}#else 重置#end</button>
		#if($uiButtonPanelConfig.buttons)
			#foreach($button in $uiButtonPanelConfig.buttons)
				<button #if($button.refmenu)refmenu="$button.refmenu"#end type="button" class="u-btn #if($button.className)$button.className#else u-btn-default#end" name="$!{button.name}" onclick="$!{button.event}">$!{button.label}</button>
			#end
		#end
    </div>
	#set($uiButtonPanelConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name button_panel_ex
 * @param id {String} 唯一标识
 * @param buttons {Json} 自定义按钮组 格式如："buttons":[{"name":"查询", "class":"h_btn-cencel", "event":"lhkh.query()"}] 名称 样式名 点击事件
 * @description button_panel_ex组件，按钮组组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#button_panel_ex({"buttons":[{"name":"查询", "class":"h_btn-cencel", "event":"lhkh.query()"}]}) <br/>注：内含“内提”、“重置”按钮，后面才是自己添加的button
 * @since version 0.1
 *#	
#**
 * @lends button_panel_ex
 *#

#macro(button_panel_ex $uiButtonPanelExConfig)
	<div class="h_btndiv u-button-group" name="$!{uiButtonPanelExConfig.name}" id="$!{uiButtonPanelExConfig.id}" $horn.paramsCache($uiButtonPanelExConfig) >
		#if($uiButtonPanelExConfig.buttons)
			#foreach($button in $uiButtonPanelExConfig.buttons)
				<button type="button" #if($button.refmenu)refmenu="$button.refmenu"#end
                name="$!{button.name}"
				class="u-btn #if($button.className)$button.className#else u-btn-default#end"
				onclick="$!{button.event}">$!{button.label}</button>
			#end
		#end
    </div>
	#set($uiButtonPanelExConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name button_panel_ex
 * @param id {String} 唯一标识
 * @param buttons {Json} 自定义按钮组 格式如："buttons":[{"name":"查询", "class":"h_btn-cencel", "event":"lhkh.query()"}] 名称 样式名 点击事件
 * @description button_panel_ex组件，按钮组组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#button_panel_ex({"buttons":[{"name":"查询", "class":"h_btn-cencel", "event":"lhkh.query()"}]}) <br/>注：内含“内提”、“重置”按钮，后面才是自己添加的button
 * @since version 0.1
 *#	
#**
 * @lends button_panel_ex
 *#

#macro(button_panel_bar $uiButtonPanelBar)
	<div class="h_btndiv" id="$!{uiButtonPanelBar.id}" name="$!{uiButtonPanelBar.name}">
		$bodyContent
    </div>
	#set($uiButtonPanelBar = {})
#end
#**   
 * @author huling   
 * @class
 * @name button_panel_ex
 * @param id {String} 唯一标识
 * @param buttons {Json} 自定义按钮组 格式如："buttons":[{"name":"查询", "class":"h_btn-cencel", "event":"lhkh.query()"}] 名称 样式名 点击事件
 * @description button_panel_ex组件，按钮组组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#button_panel_ex({"cols":"3", "rows":"2", "buttons":[{"name":"查询", "class":"h_btn-cencel", "event":"lhkh.query()"}]}) <br/>注：内含“内提”、“重置”按钮，后面才是自己添加的button
 * @since version 0.1
 *#	
#**
 * @lends button_panel_ex
 *#
#macro(button $uiButtonConfig)
	<button type="button"
    id="$!{uiButtonConfig.id}" name="$!{uiButtonConfig.name}"
	#if($!{uiButtonConfig.className})
	    class="u-btn #if($uiButtonConfig.className)$uiButtonConfig.className#else u-btn-default#end"
	#end 
	onclick="$!{uiButtonConfig.event}">$!{uiButtonConfig.label}</button>
	#set($uiButtonConfig = {})
#end
#*
 * @class
 * @name  datagrid
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param data {Json}　数据
*#
#** 
 * 修改记录:
 * 修改日期                          修改人员                              修改说明                 
 * -----------------------------------------------------------------------
 * *2014-08-13    wangyb10555         STORY #9387和STORY #9387添加对表格头的支持
 * *2014-08-18    wangyb10555         添加toolbar
 *	2014-10-14    wangyb10555		  修复当model中存在data变量的值，而组件参数配置的时候配置非法data的属性的时候导致的依然以model中数值进行展示的问题
 *	2014-10-22    wangyb10555 		STORY #10063 [研发中心/内部需求]JRESPlus-ui-分组菜单式按钮的组件的菜单可以绑定到datagrid组件当中的buttons中的button上 
 * 	2015-2-28	  wangyb10555		STORY #10955 [财富管理事业部-吴丰辉][TS:201502150030]-JRESPlus--datagrid支持多列冻结某些场景单列冻结不够用】
 *  2015-09-28   周智星                                   STORY #12660 【TS:201508240145-JRESPlus-财富管理事业部-王瑞明-若在查询框中通过 tab_panel 控件设置多个 Tab,分页则除第一次选择的TAB页外的其他全选按钮会失效 】
 *  2016-3-9      刘龙                               需求#17378 【TS:201602230423-JRESPlus-资产管理事业部-张翔-【项目名称】非标准化投资管理系统2.0<br><br><br】
 *  2016-3-28    刘龙                                   需求18070 【TS:201603240534-JRESPlus-财富管理事业部-江志伟-【项目名称】恒生信托综合管理平台（TCMP）<br>【产品及】
 * -----------------------------------------------------------------------
*#
#macro(datagrid $params)
#if($params.id&&$params.id!="")
	#set($id = ${params.id})
#else
	#set($id = "dyncGrid")    ##id默认值
#end	
	
#set($numberColumn = $params.numbercolumn)	##是否展现序号列标识
#if($params.numberColWidth&&$params.numberColWidth!="")
  #set($numberColumnWidth = $params.numberColWidth)	##序号列宽度
#else
  #set($numberColumnWidth = 20)	
#end  
#set($colItems = $params.items)             ##列数据模型对象
#set($frozenColName = "")
#if($params.frozen[0])
	#set($frozenColName = $params.frozen[0])
#else
	#set($frozenColName = $params.frozen)
#end
#set($frozenItem = "")
#if($frozenColName&&$frozenColName!="")
	#foreach($col in $colItems)
		#if($col.name==$frozenColName)
			#set($frozenItem = $col)
			#break
		#end	
	#end	
#end
#set($selectModel = $params.selectModel)   ##单选 多选模式
#set($_data = $!params.data)                 ##静态加载的数据，数据由后台服务返回
#set($size =$!{colItems.size()} ) 
                					#if($numbercolumn&&$numbercolumn==true)
                                        #set($size = $size+1 )
                        			#end
                        			#if($selectModel&&$selectModel=="multi")
                                        #set($size = $size+1 )
									#elseif($selectModel&&$selectModel=="single")	
										#set($size = $size+1 )
            						#end
<div id='wrap_$id' class="xdatagrid g-datagrid-wrap" 
	#if ($params.name) name="$!{params.name}"#else name="$id" #end   $horn.paramsCache($params) >
	            #if ($params.title&&"$!params.title"!="")
	            <!-- *****************  title区域 ***********************-->   
            	<div class="u-datagrid-header">
					<h4 class="u-datagrid-title">$!{params.title}</h4>
				</div>
                #end
	            
	            <!-- *****************  toolbar区域 ***********************-->   
				#if ($params.buttons&&"$!params.buttons"!=""&&$params.buttons.size()>0)
				<div class="u-datagrid-toolbar">
					<ul class="u-datagrid-btn">
						#foreach($button in $params.buttons )
    			     	<li><a name="$!{button.name}" href="JavaScript:void(0)" class="hc-datagrid-a hc_datagrid-alink #if($button.disabled)f-disabled#end" #if($button.refmenu&&!$button.disabled)refmenu="${button.refmenu}"#end onClick="$!{button.event}" event = "$!{button.event}"><i class="fa #if($button.cls=="add")fa-plus-circle#elseif($button.cls=="edit")fa-pencil-square-o#elseif($button.cls=="del")fa-remove#elseif($button.cls=="confirm")fa-save#elseif($button.cls=="save")fa-save#elseif($button.cls=="query")fa-search#elseif($button.cls=="open")fa-folder-open-o#elseif($button.cls=="refresh")fa-refresh #else $!{button.cls} #end"></i>$!{button.label}</a></li>
						#end
					</ul>
    			</div>
				#end
			    <!-- *****************DataGrid  header区域 ***********************--> 
				<div style="WIDTH: 100%;" class="hc-datagrid-header">
					<!--     冻结列头区域         -->
				  #if($!{frozenItem}!="")	
					<table id='freez_head_$id' class="hc-datagrid-fixed-table" style="position: absolute;"  border="0" cellSpacing="0"
						cellPadding="0">
						<tbody>
							<tr>
							  #if($numberColumn&&$numberColumn==true)
								<td style="width:36px;">
									<div style="TEXT-aLIGN: center; " class="u-table-number" style="width:36px;">
									</div>
								</td>	
							  #end	
							  ##单选多选列的逻辑
							  #if($selectModel&&$selectModel=="multi")
        						  <td style="width:36px;">
        								<div class="hc-datagrid-cell-check u-table-check" style="width:36px;">
        									<input id="allcb_datagrid_id" type="checkbox" class="h_datagrid_select_all"/>
        								</div>
        						  </td>
							  #elseif($selectModel&&$selectModel=="single")	  
								  <td style="width:36px;">
        								<div class="hc-datagrid-cell-check u-table-check" style="width:36px;">
        								</div>
        						  </td>
							  #end	  
							  ##冻结列逻辑
							  #if($!{frozenItem}!="")	
								#if($frozenItem.hidden&&$frozenItem.hidden==true)
									#set($hide="display:none")
								#else
									#set($hide="")
								#end	
								<td style="WIDTH: #nt(${frozenItem.width} 100)px;$!{hide}" name="$frozenItem.name">  
									<div style="TEXT-aLIGN:$!{frozenItem.hAlign}; WIDTH: #nt(${frozenItem.width} 100)px; CURSOR: default"
										class="hc-datagrid-cell" name="$!{frozenItem.name}" dictName="$!{frozenItem.dictName}"
										buttons="$!{frozenItem.buttons}" renderer="$!{frozenItem.renderer}">$!{frozenItem.text}</div>
								</td>
							  #end	
							</tr>
						</tbody>
					</table>
					#end
					<!--     DataGrid   表格表头区域 (包含冻结列)        -->
					<table id='head_$id' border="0" cellSpacing="0" cellPadding="0" style="width:100%">
						<tbody>
							<tr>
							 #if($numberColumn&&$numberColumn==true)
								<td style="width:36px;">
									<div style="TEXT-aLIGN: center; "  class="h_numbercolumn u-table-number" style="width:36px;">
									</div>
								</td>	
							  #end
							  #if($selectModel&&$selectModel=="multi")
        						  <td style="width:36px;">
        								<div class="hc-datagrid-cell-check u-table-check" style="margin: 0 5; padding: 0 5;width:36px;">
										  <input id="allcb_datagrid_id" type="checkbox" class="h_datagrid_select_all"/>
										</div>
        						  </td>
							  #elseif($selectModel&&$selectModel=="single")	  
								  <td style="width:36px;">
        								<div class="hc-datagrid-cell-check u-table-check" style="width:36px;">
        								</div>
        						  </td>
							  #end
							  
							  ##冻结列逻辑
							  #if($!{frozenItem}!="")	
								#if($frozenItem.hidden&&$frozenItem.hidden==true)
									#set($hide="display:none")
								#else	
									#set($hide="")
								#end	
								<td style="WIDTH: #nt(${frozenItem.width} 100)px;$!{hide}" flag="frozen" name="$frozenItem.name"> 
									<div style="TEXT-aLIGN:$!{frozenItem.hAlign};WIDTH: #nt(${frozenItem.width} 100)px; CURSOR: default"
										class="hc-datagrid-cell" name="$!{frozenItem.name}" dictName="$!{frozenItem.dictName}"
										buttons="$!{frozenItem.buttons}" renderer="$!{frozenItem.renderer}">$!{frozenItem.text}</div>
								</td>
							  #end	
							 
							  ##所有列头(如果有冻结列则排除)
							  #foreach($colitem in $colItems)
								 #if($colitem.dictName&&$colitem.dictName!="")
							        $horn.addGlobal('componentSelects_s',$!{colitem.dictName})
								 #end
								 #if($colitem.name!=$frozenItem.name)
    							    #if($colitem.hidden&&$colitem.hidden==true)
									   #set($hide="display:none")
									#else
									   #set($hide="")   
								    #end	
								<td style="WIDTH: #nt(${colitem.width} 100)px;$!{hide}" name="$colitem.name">
									<div style="TEXT-aLIGN:$!{colitem.hAlign};WIDTH: #nt(${colitem.width} 100)px; CURSOR: default"
    										class="hc-datagrid-cell" name="$!{colitem.name}" dictName="$!{colitem.dictName}"
											buttons="$!{colitem.buttons}" renderer="$!{colitem.renderer}">$!{colitem.text}</div>
    								</td>
								#end	
							  #end 	
							</tr>
						</tbody>
					</table>
					
				</div>
				<!-- ********************** DataGrid  冻结数据区域 *******************-->
			 #if($!{frozenItem}!="")		
				<div id='freeze_data_$id' style="position: absolute;overflow: hidden;"
					class="hc-datagrid-body">
					<table id="freez_body_$id" style="background-color:#fff;" border="0" cellSpacing="0" cellPadding="0"  class="hc-datagrid-fixed-table datagrid-table">
						<tbody id="freez_tbody_$id">
							
							#if($_data&&$_data.size()>0&&$_data!="")
								
							#else
							<tr><td colspan="$size" style="border-right:0px;padding:15px;"><p>暂时无数据</p></td></tr>
							#end	
							
						</tbody>
					</table>
				</div>
			 #end	
				<!-- *****************DataGrid  数据区域 ***********************--> 
				<div id='data_$id' style="WIDTH: 100%;"
					class="hc-datagrid-body">
					<table id="data_table_$id" border="0" cellSpacing="0" cellPadding="0" class="hc-datagrid-fixed-table datagrid-table">
						<tbody id="body_$id">
						 
						 #if($_data&&$_data.size()>0&&$_data!="")	
						 	
						 #else
								<tr>
            											
						        <td colspan="$size" style="border-right:0px;padding:15px;"><p>暂时无数据</p></td>
					           </tr>
						  #end	

						</tbody>
					</table>
				</div>
               <!-- *******************　　pagebar区域　********************** -->
			   #if($params.hasPage&&$params.hasPage==true)
               <div class="u-datagrid-page" >
    				<div class="g-pagebar-wrap">
        		      <ul class="m-pagebar" id='page_$id'>
        		        <li>
        		          <a href="javascript:void(0)" class="first_page_btn" title="首页"><i class="fa fa-step-backward"></i></a>
        		        </li>
        		        <li>
        		          <a href="javascript:void(0)" class="pre_page_btn" title="上一页"><i class="fa fa-caret-left"></i></a>
        		        </li>
        		        <li><span>第</span></li>
        		        <li><input id='toPage_$id' class="hc-pagination-num" value="0" size="2" type="text" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')"/></li>
        		        <li><span>页</span></li>
        		        <li><span>每页</span></li>
        		        <li><input id='pageSize_$id' class="hc-pagination-num" style="width: 30px;" value="20" size="20" type="text" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')"/></li>
        		        <li><span>条</span></li>
        		        <li><a href="javascript:void(0)" class="next_page_btn" title="下一页"><i class="fa fa-caret-right"></i></a></li>
        		        <li><a href="javascript:void(0)" class="last_page_btn" title="尾页"><i class="fa fa-step-forward"></i></a></li>
        		        <li><a href="javascript:void(0)" class="refresh_btn" title="刷新"><i class="fa fa-refresh"></i></a></li>
        		      </ul>
    				  <div class="m-pagebar-all">共<span id='totalPages_$id' style="">0</span>页，<span id='pageInfo_$id' class="hc-pagination-info">当前显示0到0，共0条记录</span></div>
    				</div>
    			</div>
				#end
			</div>
#end	
#**
 * @class
 * @name fieldset
 * @param id {String} 唯一标识
 * @param title {String} 标题
 * @description 分组组件
 * @see
 * @example
 * \#@fieldset({"title":"详细信息"})
 *       \#textfield({"title":"详细信息","id":"fieldsetId"})
 *   \#end
 * @since version 0.1
 *#
#macro(fieldset $uiFieldSetConfig)
	<fieldset class="h_fieldset" id="$!{uiFieldSetConfig.id}" name="$!{uiFieldSetConfig.name}" $horn.paramsCache($uiFieldSetConfig)  >
		<legend>$!uiFieldSetConfig.title</legend>
		$bodyContent
	</fieldset>
	#set($uiFieldSetConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name form_start
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param url {String} form的action地址
 * @param ajax {Boolean} 是否使用Ajax的方式提交form
 * @param onSuccess {Function} 在请求返回时调用的方法
 * @param beforeSubmit {Function} 在请求之前调用的方法，return false可阻止form提交
 * @param events {Json} 事件，格示见示例
 * @param postName {Boolean} 是否提交form的名称（在某些需要场景保存的时候有用，其他地方是无效的。）
 * @description form_start组件，form表单开始组件，需要配合form_end一起使用
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#form_start({"url":"$appServer.get('/acco/jointAccount.htm')"})
 * @since version 0.1 
 *#	
#**
 * @lends form_start
 *#
#macro(form_start $uiFormConfig)
	<form id="$!{uiFormConfig.id}" $horn.paramsCache($uiFormConfig)  #if($!{uiFormConfig.fileupload}) enctype="multipart/form-data" #end  method="post" action="$!{uiFormConfig.url}" ajax='$!{uiFormConfig.ajax}' name="$!{uiFormConfig.name}"
		##foreach($event in $uiFormConfig.events)
		##	$event.event = "$event.function" 
		##end 
		autocomplete="off">
	#csrf_page_token()
	<input type="hidden" name="$!{validSourceUrlField}" value="$!{_screen_name}"/>
	#if($uiFormConfig.postName)
		<input type="hidden" name="_submit_form_name" value="$!{uiFormConfig.name}"/>
	#end
#end 

#macro(form $uiFormConfig)
	<form id="$!{uiFormConfig.id}" $horn.paramsCache($uiFormConfig)  method="post"   #if($uiFormConfig.fileupload) enctype="multipart/form-data" #end action="$!{uiFormConfig.url}" ajax='$!{uiFormConfig.ajax}' name="$!{uiFormConfig.name}"
		##foreach($event in $uiFormConfig.events)
		##	$event.event = "$event.function" 
		##end 
		autocomplete="off">
	<input type="hidden" name="$!{validSourceUrlField}" value="$!{_screen_name}"/>
	#if($uiFormConfig.postName)
		<input type="hidden" name="_submit_form_name" value="$!{uiFormConfig.name}"/>
	#end
	$bodyContent
	</form>
	#set($uiFormConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name form_end
 * @description form_end组件，form表单结束组件，需要配合#form_start一起使用
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#form_end
 * @since version 0.1
 *#	
#**
 * @lends form_end
 *#
#macro(form_end)
	</form>
	#set($uiFormConfig = {})
#end
#**   
 * @author zhangchao   
 * @class
 * @name grid
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param data {Json}　数据
 * @param items {Json} 列表条目 格式如{"name":"organFlag","text":"机构类型","renderer":"renderer"}<br>
 * items中的列表条目属性：
 *               @param  hidden   {Boolean}  列是否隐藏
 *               @param  width    {String}   列宽度
 *               @param  dataType {String}   列格式化的类型，目前只支持日期和金额两种类型，日期：dataType="DATE",金额dataType="AMOUNT"
 *               @param  format   {String}   列格式化时的格式
 * @param titleButtons {Array} 工具栏　格式如[{"label":"添加","cls":"add","event":"add()"}]<br>
	按钮属性：
 *	     @param  label   {String}  按钮文本
 *	     @param  cls     {String}  按钮css样式
 *	     @param  event   {String}  按钮点击事件
 *	     @param  disabled {Boolean} 是否禁用/启用按钮
 * @param events {Json}
 * @param numbercolumn {Boolean} 是否启用数字序列
 * @param selectModel {String} single/muti 启用单选/多选选择框
 * @param rowSelect  是否启用点击行选中行
 * @param textOverHidden  列内容超出列宽时是否隐藏并加"..."，默认不隐藏，表格会根据内容自适应，如需隐藏，请设置为true
 * @description grid组件，列表组件
 * @see 
 * @example
 *	<pre>\	#grid({"name":"flowTable","title":"有数据的grid"
    	    ,"numbercolumn":"true","selectModel":"muti"
    		,"items":[{"name":"initDate","text":"发生日期","renderer":"domrender"},
    			{"name":"branchNo", "text":"分支名称（静态字典）","items":[{"label":"杭州总部","value":"8888"},{"label":"b","value":"b1"},{"label":"c","value":"c1"}]},
    			{"name":"branchNo", "dictName":"Branch", "text":"分支名称（动态字典）"},
    			{"name":"scanType", "dictName":"ScanType", "text":"扫描类别"},
    			{"name":"clientId","text":"客户编号"},
    			{"name":"clientName","text":"客户名称"},
    			{"name":"branchNo", "text":"操作","showwhenover":"true","buttons":[{"label":"设置默认","event":"edit"},{"label":"设置默认","event":"edit"}]},
    			{"name":"taskStatus","text":"任务状态"}
    			]
    		,"data":$data
    	})
 *	</pre>
 * @since version 0.1
 *#	
#**
 * @lends grid
 *#
#**
* -----------------------------------------------------------------------
* 修订记录：
* 2014-01-20    zhangsu        <table>标签中增加样式"h_table",使grid的数据以间隔行的形式展现
* 2014-01-21    zhangsu        新增rowSelect属性，使grid支持点击行选中该行
* 2014-01-22    zhangsu        Grid列需要支持常规类型的格式化配置（日期、金额）
* 2014-01-22    zhangsu        Grid列支持hidden属性
* 2014-02-12    zhangsu        td内容限制不换行 “nowrap”
* 2014-02-12    zhangsu        去掉样式h_table
* 2014-02-14    zhangsu        新增列属性width，可设置列宽度
* 2014-02-21    zhangsu        表格的表头能够设置居左、居中、居右,新增属性headerAlign 
* 2014-03-03    zhangsu        表格的选择列在设置了selectModel=single后，显示的仍旧是checkbox复选框 
* 2014-03-06    zhangsu        增加配置项textOverHidden，用于配置列内容超出列宽时是否隐藏并加"..." 
* 2014-04-11    周智星                         BUG #6610 【grid】"selectModel":"multi"之后会造成复选框变成input输入框，并且应该设置的muti是拼写错误 （已经做了兼容处理，muti或者multi都可以）
* 2014-04-16    zhangsu        STORY #8089 添加save/query/confirm/refresh/open几种样式
* 2014-06-13    zhangsu        STORY #8487 grid未设置selectModel 的情况下，不生成选择列
* -----------------------------------------------------------------------
*#
#macro(grid $params)
	<div class="h_formtable g-datagrid-wrap" #if ($params.name) name="$!{params.name}" #end  id="$!{params.id}" $horn.paramsCache($params) 
            ##foreach($event in $params.events)
            ##	$event.event = "$event.function"
            ##end
            #if($params.numbercolumn)
            	numbercolumn="$params.numbercolumn"
			#end
			#if($params.numberColWidth&&$params.numberColWidth!="")
              #set($numberColumnWidth = $params.numberColWidth)	##序号列宽度
            #else
              #set($numberColumnWidth = 20)	
            #end  
            #if($params.selectModel=="multi" || $params.selectModel=="muti" || $params.selectModel=="single")
				#set($selectModel = $params.selectModel)
			#elseif($params.selectModel=="" || !$params.selectModel)
				#set($selectModel = "null")
			#end	
            #if($selectModel=="single"||$selectModel=="multi"||$selectModel=="muti")
                selectModel="$selectModel"
            #end
			#if($params.rowSelect)
				rowSelect = "$params.rowSelect"
			#end	
			#if(${params.textOverHidden})
				textOverHidden = "$!{params.textOverHidden}"
			#end
			>
		#if($params.title&&$params.title!="")
			<div class="u-datagrid-header">
				<h4 class="u-datagrid-title">$!{params.title}</h4>
			</div>
		#end
		#if($params.titleButtons&&$params.titleButtons!=""&&$params.titleButtons.size()>0)
			<div class="u-datagrid-toolbar">
				<ul class="u-datagrid-btn">
					#foreach($button in $params.titleButtons )
			     	<li><a name="$!{button.name}" href="JavaScript:void(0)" class="hc-datagrid-a hc_datagrid-alink #if($button.disabled)f-disabled#end" #if($button.refmenu&&!$button.disabled)refmenu="${button.refmenu}"#end onClick="$!{button.event}" event = "$!{button.event}"><i class="fa #if($button.cls=="add")fa-plus-circle#elseif($button.cls=="edit")fa-pencil-square-o#elseif($button.cls=="del")fa-remove#elseif($button.cls=="confirm")fa-save#elseif($button.cls=="save")fa-save#elseif($button.cls=="query")fa-search#elseif($button.cls=="open")fa-folder-open-o#elseif($button.cls=="refresh")fa-refresh #else $!{button.cls} #end"></i>$!{button.label}</a></li>
					#end
				</ul>
    		</div>
		#end
		<div  class="u-datagrid">
		<table  cellpadding="0" cellspacing="0"  class="table table-bordered table-stripe $!params.name" id="$!params.name">
			<thead>
				<tr>
					#if($params.numbercolumn)
                        <th class="u-table-number"><div style="width: 40px;"></div></th>
        			#end
        			#if($selectModel=="multi"||$selectModel=="muti")
                        <th class="u-table-check">
							<div style="width: 40px;"><center><input type="checkbox" class="h_querytable_select_all"/></center></div>
						</th>
        			#elseif($selectModel == "single")
						<th class="h_querytable_radioboxcolumn u-table-check"><div style="width: 40px;;align:center;"></div></th>
					#end
					#foreach($pItem in $params.items)
        				<th name="$!{pItem.name}"  #if($pItem.hidden)style="display:none"#end
                            colno="$velocityCount"
                        #if($pItem.dictName)
							dictName="$!{pItem.dictName}"
							$horn.addGlobal('componentSelects_s',$!{pItem.dictName})
            			#end
						#if($pItem.showwhenover)
							showwhenover = '$pItem.showwhenover'
						#end
						#if ($pItem.renderer)
        					renderer="$!{pItem.renderer}" 
						#end
						
						#if($pItem.dataType)
							dataType = "$!{pItem.dataType}"   
						#end
						#if($pItem.format)
							format = "$!{pItem.format}" 
						#end
						#if($pItem.hidden)
							hidden = "$!{pItem.hidden}"
						#end	
						#if($pItem.width)
							width = "$!{pItem.width}"
						#end	
        				>
						#set($headerAlign="center")
						#if($pItem.headerAlign)
							#set($headerAlign=$pItem.headerAlign)
						#end
						<div #if($params.textOverHidden)style="TEXT-aLIGN:$headerAlign;WIDTH: #nt(${pItem.width} 110)px; CURSOR: default" #else style="TEXT-aLIGN:$headerAlign;CURSOR: default" #end>$!{pItem.text}</div>
						</th>
					#end
				</tr>
			</thead>
			<tbody>
                #if($params.data&&$params.data.size()>0&&$params.data!="")
                    #foreach($mdata in $params.data)
                        #set($rowNumber = $velocityCount % 2)
                        <tr line="$velocityCount" class="#if($rowNumber==0)u-table-bg #end #if($mdata.isSign()) u-table-selected #end " >
							#if($params.numbercolumn)
                                <td><div style="width: 40px;">$velocityCount</div></td>
        					#end
        					#if($selectModel=="muti"||$selectModel=="multi")
								## 表格的选择列在设置了selectModel=single后，显示的仍旧是checkbox复选框 
                                <td><input type="checkbox" class="h_querytable_select" #if($mdata.isSign()) checked=true #end /></td>
        					#elseif($selectModel=="single")
								<td><input type="radio" class="h_querytable_select" name="_grid_row_checker"/></td>
							#end
                            #foreach($pItem in $params.items)
                                #set($evalval = "$"+"!" + "{mdata." + "$!{pItem.name}" + "}" )
                                <td  title='#evaluate($evalval)' #if($pItem.hidden)style="display:none"#end>
								#set($align = "center")
								#if($pItem.align)
									#set($align = $pItem.align)
								#end
								#if($params.textOverHidden)
									<div style="TEXT-aLIGN:$align;WIDTH: #nt(${pItem.width} 110)px; CURSOR: default" >#evaluate($evalval)</div>
								#else
									<div style="overflow: visible;white-space: normal;word-wrap:break-word; word-break:break-allTEXT-aLIGN:$align;#if($pItem.width)WIDTH: ${pItem.width}px;#end CURSOR: default" style="TEXT-aLIGN:$align; CURSOR: default">#evaluate($evalval)</div>
								#end
								</td>
							#end
                        </tr>
					#end
				#else
					<tr>
						#set($size =$!{params.items.size()} ) 
    					#if($params.numbercolumn)
                            #set($size = $size+1 )
            			#end
            			#if($params.selectModel)
                            #set($size = $size+1 )
						#end						
						<td colspan="$size" class="hc_formtable-nodata"><p>暂时无数据</p></td>
					</tr>
                #end
            </tbody>
		</table>
		</div>
	</div>
#end
#**   
 * @author huling   
 * @class
 * @name hidden
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param alias {String} 别名
 * @param value {String} 值
 * @param defValue {String} 如果设置了defValue的值，重置成的defValue值，否则重置成初始值
 * @description hidden组件，隐藏域组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#hidden({"name":"futuresAccount[4].futuExchType"})
 * @since version 0.1
 *#	
#**
 * @lends hidden
 *#
#**
* -----------------------------------------------------------------------
* 修订记录：
* 2016-3-4      刘龙                                     STORY 17372 【TS:201602230418-JRESPlus-资产管理事业部-张翔-【项目名称】非标准化投资管理系统2.0<br><br><br】
* -----------------------------------------------------------------------
*#
#macro(hidden $params)
    #set($val = "")
    #set($val = $params.value)
    #if(!$val || $val =="" && $params.name )
        #set($val =  "$horn.getValue($!params.name)")
	#end
	##17372 【TS:201602230418-JRESPlus-资产管理事业部-张翔-【项目名称】非标准化投资管理系统2.0<br><br><br】
	<li class="hc_panel-li" style="display: none;">
	<input class="hc_hiddenfield" id="$!{params.id}" $horn.paramsCache($params)  type="hidden" name="$params.name"
		#if($params.alias)
			alias="$!{params.alias}"
		#end
	value="$!val" />
	</li>
#end

#**   
 * @author huling   
 * @class
 * @name label
 * @param cols {String} 跨列数
 * @param id {String} 唯一标识
 * @param dictName {String} 字典名称
 * @param items {Array} 静态字典（若有的话）
 * @param value {String} 初始值
 * @param hiddenName {String} 如有值，则以此name提交一个当前的值到后台。
 * @description blankcol组件，空白占位符组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#label({"cols":"3","label":"用户名"})
 * @since version 0.1
 *#	
#**
 * @lends label
 *#
#macro(label $uiLabelConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiLabelConfig.cols&&$uiLabelConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiLabelConfig.cols)
				#if($uiLabelConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiLabelConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiLabelConfig.cols)
				#if($uiLabelConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiLabelConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiLabelConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
	#set($val = "")
	#set($val = $!{uiLabelConfig.value})
    #if((!$val || $val =="") && $uiLabelConfig.name )
		#set($val =  "$horn.getValue($!uiLabelConfig.name)")
	#end
	#if($view && $uiLabelConfig.hiddenName)
		#set($command = "$" + "!" + $!{uiLabelConfig.hiddenName} )
		#set($val = "#evaluate($command)")
    	#if(!$val || $val =="" )
            #set($val =  "$horn.getValue($!uiLabelConfig.hiddenName)")
		#end
	#end
	<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$uiLabelConfig.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiLabelConfig.name" title="$!{uiLabelConfig.label}">$!{uiLabelConfig.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div $horn.paramsCache($uiLabelConfig) id="$!{uiLabelConfig.id}" name="$!{uiLabelConfig.name}" alias="$!{uiLabelConfig.alias}" class="hc_label u-label" mutivalue="$!{uiLabelConfig.mutivalue}"
    			title="$!{val}"
    			#if($uiLabelConfig.dictName)
    				dictName="$!{uiLabelConfig.dictName}"
    				$horn.addGlobal('componentSelects_s',$!{uiLabelConfig.dictName})
    			#end
        		#if($uiLabelConfig.alias)
        			alias="$!{uiLabelConfig.alias}"
        		#end
                #if($uiLabelConfig.dictName)
    				dictName="$!{uiLabelConfig.dictName}"
    				$horn.addGlobal('componentSelects_s',$!{uiLabelConfig.dictName})

    			#end	
    			>$!val</div>
				#if($uiLabelConfig.hiddenName) <input type='hidden' name='$uiLabelConfig.hiddenName' value='$!val' /> #end
			</div>
	    </div>
	 </div>
	
#end
#macro(menu $params)
	<div name="$!params.name" class="hc_menu" id="$!params.id" $horn.paramsCache($params)>
	</div>
	<ul class="h_toolbar-menu u-dropdown-menu"  style="display:none">
       <li class="h_toolbar-item" base>
           <a class="h_toolbar-item-a" title="" href="javascript:void(0)">
               <span class="h_toolbar-item-icon u-menu-icon"></span>
               <span class="h_toolbar-item-txt u-menu-txt"></span> 
               <span class="h_toolbar-item-arrow u-menu-arrow"><i class="fa fa-caret-right"></i></span>
           </a>
        </li>
    </ul>
#end
#**   
 * @author zhangc   
 * @class
 * @name page_bar
 * @param id {String} 唯一标识
 * @param name {String} 名称
 * @param pageNo {int} 当前页码，一般由分页组件Page提供。
 * @param url {String} 默认为当前页面地址，可提供其他页面的分页跳转。
 * @param pages {int} 总页码数
 * @param pageSize {int} 页面大小，每页显示条目数
 * @param count {int} 总条目数
 * @param bindFormName {String} 绑定的查询表单名称,用于分页时将查询条件的参数传入
 * @description 用于分页的组件。
 * @see 
 * @example
 * \#page_bar($page)
 * \#page_bar({"pageNo":1,"pageSize":20,"pages":})
 *  
 * @since version 0.1
 *#	
#**
 * @lends page_bar
 *#
#**
*  -----------------------------------------------------------------------
*  修订记录:
*  2014-01-28    zhangsu    Grid的分页栏支持展示当前显示条数，总条数信息
*  2014-01-28    zhangsu    Grid分页支持动态设置每页显示条数
*  2014-02-10    zhangsu    Grid分页增加分页页数判断
*  2014-02-13    zhangsu    Grid分页时pageNo<=0时,将$pageNo置为1,
*  2014-02-14    zhangsu    如果总条数为0，将动态设置跳转页和页码input框disabled，跳转按钮disabled	
*  2014-02-17    zhangsu    如果表格无数据，不显示分页栏
*  2014-03-12    zhangsu    STORY #7836 grid分页grid的查询条件带不过去
*  2014-06-19    zhangsu    STORY #8436 [研发中心/内部需求][jresplus][ui]-pagebar的dom结构和样式建议优化调整
*  2014-10-08    wangyb10555 STORY #9853 [财富管理事业部/陈为][TS:201409260084]-JRESPlus-ui-1. Grid组件中的分页栏：当只有单页数据的时，首页、末页】
*  2016-1-27     刘龙                                STORY16308 【TS:201601070241-JRESPlus-财富管理事业部-陈为-10.对于导航栏，希望研发中心给出统一标准的导航工具栏风格，】
*  2016--3-28    刘龙                            需求18070 【TS:201603240534-JRESPlus-财富管理事业部-江志伟-【项目名称】恒生信托综合管理平台（TCMP）<br>【产品及】
*  -----------------------------------------------------------------------
*#
#macro(page_bar $params $pagebarparams)
	#if($pagebarparams.align=="left"||$pagebarparams.align=="right"||$pagebarparams.align=="center")
		#set($align = "h_pages-"+$pagebarparams.align)
	#else
		#set($align = "")
	#end
	
	#if($params.id&&$params.id!="")
	#set($id = ${params.id})
	#else
		#set($id = "dyncGrid")    ##id默认值
	#end
      <div class="u-datagrid-page">
		<div class="h_pages g-pagebar-wrap"
			#if($params.url) url="$!params.url" #end
            id="$!{params.id}" $horn.paramsCache($params) 
        	target="$!params.targetName"
        	pageNo="$params.pageNo"               ##当前页
        	pageSize="$params.pageSize"           ##每页显示条目数
        	pageCount="$params.count"             ##总条数
        	pages="$params.pages"                 ##总页数
    		bindFormName = "$!{pagebarparams.bindFormName}"          ##绑定的查询表单名称  STORY7836
		>
		 #if($params.pageNo <=0)   
		    #set($pageNo=1) ##当前页码
		 #else
		    #set($pageNo=$params.pageNo) ##当前页码
		 #end 
		    
	     #set($pageSum=$params.pages) ##总页数 
	     #set($pagePrev=$pageNo+1) ##上一页    
	     #set($pageNext=$pageNo-+1) ##下一页
		

		
		<ul class="m-pagebar">
    		<li>
    			<a href="javascript:void(0)"  class="h_pagebtn-index #if($params.count<=0||$pageSum<=0||$pageNo==1)disabled #end first_page_btn" title="首页"><i class="fa fa-step-backward"></i></a>
    		</li>
    		<li>
    			<a href="javascript:void(0)" class="h_pagebtn-prev #if(1==$pageNo||$params.count<=0||$pageSum<=0)disabled #end pre_page_btn" title="上一页"><i class="fa fa-caret-left"></i></a>
    		</li>
    		 <li><span>第</span></li>
    		 <li>
    			<input name="pageNo" type="text" id="$!{pagebarparams.bindFormName}_topageid" size="1" value="$params.pageNo" class="h_page-num #if($params.count<=0||$pageSum<=0)disabled #end hc-pagination-num" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')"/>
    		 </li>
    		 <li><span>页</span></li>
    		<li><span>每页</span></li>
    		<li>
    			<input name="pageSize_show" type="text" id="$!{pagebarparams.bindFormName}_topageSize_show" size="5" value="$params.pageSize" class="h_page-num #if($params.count<=0||$pageSum<=0)disabled #end hc-pagination-num" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')"/>
    			<input type="hidden" name="pageSize"  value="$params.pageSize"  id="$!{pagebarparams.bindFormName}_topagesize">
    		</li>
    		<li><span>条</span></li>
    		<li>
    			<a href="javascript:void(0)" class="h_pagebtn-next #if($params.count<=0||$pageSum==$pageNo||$pageSum<=0)disabled #end next_page_btn" title="下一页"><i class="fa fa-caret-right"></i></a>
        	</li>
    		<li>
    			<a href="javascript:void(0)"  class="h_pagebtn-end #if($params.count<=0||$pageSum<=0||$pageSum==$pageNo)disabled #end last_page_btn" title="尾页"><i class="fa fa-step-forward"></i></a>
    		</li>
		</ul>
		<div id='pageInfo_$id' class="m-pagebar-all">共$!params.pages页,共$!params.count条记录</div>

	</div>
  </div>
#end
#**   
 * @author huling   
 * @class
 * @name panel_start
 * @description panel_start组件，是面板容器的开始组件，需要配以#panel_end一起使用
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#panel_start({"cols":"2","rows":"2"})
 * @since version 0.1
 *#	
#**
 * @lends panel_start
 *#
#macro(panel_start $uiPanelConfig)
	#set($panel_expandable = false)	
	#set($layoutcolumn = 3)
    #if($uiPanelConfig.cols) 
    	#set($layoutcolumn = $uiPanelConfig.cols)
    #end
	#if($uiPanelConfig.expandable)
	 #set($panel_expandable = $uiPanelConfig.expandable)	
		<div id="$!{uiPanelConfig.id}" $horn.paramsCache($uiPanelConfig)   name="$!{uiPanelConfig.name}" class="g-panel #if($view)g-view#end #if("$!uiPanelConfig.title"=="")f-border-none#end">
		#if($uiPanelConfig.title&&$uiPanelConfig.title!="")
			<div class="m-panel-header">
				<h4>$uiPanelConfig.title</h4>
			</div>
		#end
			<div class="g-wrap m-panel-body m-brt-none" #if($uiPanelConfig.isExpand) style="display:block" #else style="display:none"#end>
	#else
	<div id="$!{uiPanelConfig.id}" $horn.paramsCache($uiPanelConfig)   name="$!{uiPanelConfig.name}" class="g-panel #if($view)g-view#end #if("$!uiPanelConfig.title"=="")f-border-none#end"">
		#if($uiPanelConfig.title&&$uiPanelConfig.title!="")
			<div class="m-panel-header">
				<h4>$uiPanelConfig.title</h4>
			</div>
		#end
			<div class="g-wrap m-panel-body m-brt-none">
	#end
#end
#**   
 * @author huling   
 * @class
 * @name panel_start
 * @description panel组件，面板容器组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example #panel({"id":"","expandable":"true","name":"panel"})
 * @since version 0.1
 *#	
#**
 * @lends panel_start
 *#
#macro(panel $uiPanelConfig)
	#set($layoutcolumn = 3)
    #if($uiPanelConfig.cols) 
    	#set($layoutcolumn = $uiPanelConfig.cols)
    #end
	#if($uiPanelConfig.expandable)
		<div id="$!{uiPanelConfig.id}" $horn.paramsCache($uiPanelConfig)   name="$!{uiPanelConfig.name}" class="g-panel #if($view)g-view#end #if("$!uiPanelConfig.title"=="")f-border-none#end">
		#if($uiPanelConfig.title&&$uiPanelConfig.title!="")
			<div class="m-panel-header">
				<h4>$uiPanelConfig.title</h4>
			</div>
		#end
			<div class="g-wrap m-panel-body m-brt-none" #if($uiPanelConfig.isExpand) style="display:block" #else style="display:none"#end>
				$bodyContent
			</div>
			<div class="m-panel-box" title="#if($uiPanelConfig.isExpand)点击收起#else点击展开#end"><a class="m-btn-default" href="javascript:void(0)"><i class="#if($uiPanelConfig.isExpand)fa fa-angle-up #else fa fa-angle-down#end"></i></a></div>
		</div>
	#else
		<div id="$!{uiPanelConfig.id}" $horn.paramsCache($uiPanelConfig)   name="$!{uiPanelConfig.name}" class="g-panel #if($view)g-view#end #if("$!uiPanelConfig.title"=="")f-border-none#end"">
		#if($uiPanelConfig.title&&$uiPanelConfig.title!="")
			<div class="m-panel-header">
				<h4>$uiPanelConfig.title</h4>
			</div>
		#end
			<div class="g-wrap m-panel-body m-brt-none">
				$bodyContent
			</div>
		</div>
	#end
	#set($uiPanelConfig = {})
#end

#**   
 * @author huling   
 * @class
 * @name panel_end
 * @description panel_end组件，是面板容器的结束组件，需要配以#panel_start一起使用
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#panel_end
 * @since version 0.1
 *#	
#**
 * @lends panel_end
 *#
#macro(panel_end)
	#if($panel_expandable)
		</div>
		<div class="m-panel-box" title="#if($uiPanelConfig.isExpand)点击收起#else点击展开#end"><a class="m-btn-default" href="javascript:void(0)"><i class="#if($uiPanelConfig.isExpand)fa fa-angle-up #else fa fa-angle-down#end"></i></a></div>
	</div>
	#else
    	</div>
	</div>
	#end
	#set($uiPanelConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name password
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param disabled {String} 是否禁用
 * @param readonly {String} 是否只读
 * @param alias {String} 别名
 * @param label {String} 单选框组件显示值
 * @param check {String} 验证串
 * @param events {Json} 事件，格示见示例
 * @description password组件，密码组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#password({"id":"passwordId","cols":"1","label":"密码","name":"testPassword","check":"required",
 * "events":[{"event":"onblur","function":"getValue(this.value)"}]})
 * @since version 0.1
 *#	
#**
 * @lends password
 *#
#macro(password $uiPasswordConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiPasswordConfig.cols&&$uiPasswordConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiPasswordConfig.cols)
				#if($uiPasswordConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiPasswordConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiPasswordConfig.cols)
				#if($uiPasswordConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiPasswordConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiPasswordConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
	
    #set($val = "")
    #set($val = $uiPasswordConfig.value)
    #if((!$val || $val =="") && $uiPasswordConfig.name )
        #set($val =  "$horn.getValue($!uiPasswordConfig.name)")
	#end
	##查看模式
	#if($view)
	<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$uiPasswordConfig.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiPasswordConfig.name" >$!{uiPasswordConfig.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div name="$!{uiPasswordConfig.name}" class="hc_label"  $horn.paramsCache($uiPasswordConfig) 
        		#if($uiPasswordConfig.alias)
        			alias="$!{uiPasswordConfig.alias}"
        		#end
                #if($uiPasswordConfig.dictName)
    				dictName="$!{uiPasswordConfig.dictName}"
    				$horn.addGlobal('componentSelects_s',$!{uiPasswordConfig.dictName})

    			#end	
    			>******</div>
			</div>
	    </div>
	 </div>
	#else
		  <div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
		  	 #set($checkStr=$horn.getCheckStr($!uiPasswordConfig.name,$!uiPasswordConfig.check))
			  #set($groupStr=$horn.getGroupStr($!uiPasswordConfig.name,$!uiPasswordConfig.group))
			    #if(!$uiPasswordConfig.hiddenLabel)
				<label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end>#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!uiPasswordConfig.label</label>
			    #end
				<div class="g-grid-8">
					<div id="$!{uiPasswordConfig.id}" $horn.paramsCache($uiPasswordConfig) name="$uiPasswordConfig.name" class="hc_password">
    			      <input type="password" name="$!{uiPasswordConfig.name}"  value="$!val" class="u-password" #if($uiPasswordConfig.emptyText)placeholder="$!uiPasswordConfig.emptyText"#end
                    		#if($uiPasswordConfig.alias)
                    			alias="$!{uiPasswordConfig.alias}"
                    		#end
                            #if(${uiPasswordConfig.disabled})
                               disabled="disabled"
                            #end
                            #if(${uiPasswordConfig.readonly})
                               readonly="readonly"
                            #end
                    		check="$!{checkStr}"
                    		group="$!{groupStr}"
                    	/>
					</div>
			    </div>
		    </div>
		  </div>
	#end
	#set($uiPasswordConfig = {})
#end

#**   
 * @author huling   
 * @class
 * @name passwordgroup
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param alias {String} 别名
 * @param disabled {String} 是否禁用
 * @param readonly {String} 是否只读
 * @param label {String} 单选框组件显示值
 * @param check {String} 验证串
 * @param events {Json} 事件，格示见示例
 * @description passwordgroup组件，密码组组件，可自动实现关联检验
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#passwordgroup({"label":"密码", "name":"client.password"})
 * @since version 0.1
 *#	
#**
 * @lends passwordgroup
 *#
#macro(passwordgroup $uiPasswordGroupConfig)
#password_group($uiPasswordGroupConfig)
#end
#macro(password_group $uiPasswordGroupConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiPasswordGroupConfig.cols&&$uiPasswordGroupConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiPasswordGroupConfig.cols)
				#if($uiPasswordGroupConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiPasswordGroupConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiPasswordGroupConfig.cols)
				#if($uiPasswordGroupConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiPasswordGroupConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiPasswordGroupConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
		
    #set($val = "")
    #set($val = $uiPasswordGroupConfig.value)
    #if(!$val || $val =="" && $!{uiPasswordGroupConfig.name} )
        #set($val =  "$horn.getValue($!uiPasswordGroupConfig.name)")
    #end
  
##查看模式
#if($view)
	<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$uiPasswordGroupConfig.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiPasswordGroupConfig.name" title="$!{uiPasswordGroupConfig.label}">$!{uiPasswordGroupConfig.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div name="$!{uiPasswordGroupConfig.name}" class="hc_label"  $horn.paramsCache($uiPasswordGroupConfig) 
        		#if($uiPasswordGroupConfig.alias)
        			alias="$!{uiPasswordGroupConfig.alias}"
        		#end
                #if($uiPasswordGroupConfig.dictName)
    				dictName="$!{uiPasswordGroupConfig.dictName}"
    				$horn.addGlobal('componentSelects_s',$!{uiPasswordGroupConfig.dictName})

    			#end	
    			>******</div>
			</div>
	    </div>
	 </div>
	#else
  <div class="g-grid-$col #if($cols!="")$cols#end">
  	<div class="g-unit-wrap">
  	 #set($checkStr=$horn.getCheckStr($!uiPasswordGroupConfig.name,$!uiPasswordGroupConfig.check))
	 #set($groupStr=$horn.getGroupStr($!uiPasswordGroupConfig.name,$!uiPasswordGroupConfig.group))
	 #set($emptyText1="")
	 #set($emptyText2="")
	 #if($uiPasswordGroupConfig.emptyText)
		#set($emptyText1=$uiPasswordGroupConfig.emptyText[0])
		#set($emptyText2=$uiPasswordGroupConfig.emptyText[1])
	 #end
	 #if(!$uiPasswordGroupConfig.hiddenLabel)
	    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!uiPasswordGroupConfig.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!uiPasswordGroupConfig.label</label>
	 #end   
		<div class="g-grid-8">
			<div id="$!{uiPasswordGroupConfig.id}" $horn.paramsCache($uiPasswordGroupConfig)  class="hc_passwordgroup">
                <div class="g-row-wrap">
				    <div class="g-grid-6">
					      <input name="$uiPasswordGroupConfig.name" type="password" value="$!val"  class="u-password-group" placeholder="$!emptyText1"
                        	#if($uiPasswordGroupConfig.alias)
                        		alias="$!{uiPasswordGroupConfig.alias}"
                        	#end
                            #if(${uiPasswordGroupConfig.disabled})
                               disabled="disabled"
                            #end
                            #if(${uiPasswordGroupConfig.readonly})
                               readonly="readonly"
                            #end
                        	check="$checkStr"
                        	>
				     </div>
				     <div class="g-grid-6">
				      	<input type="password"  value="$!val" maxlength="$!{uiPasswordGroupConfig.maxlength}" class="u-password-group"  placeholder="$!emptyText2"
                            #if(${uiPasswordGroupConfig.disabled})
                                disabled="disabled"
                            #end
                            #if(${uiPasswordGroupConfig.readonly})
                                readonly="readonly"
                            #end
                        	check="$!checkStr;compare('$uiPasswordGroupConfig.name')"
                    		group="$!{groupStr}"
                    	/>
				     </div>
				</div>
        	</div>
	    </div>
    </div>
  </div>
	#end
	#set($uiPasswordGroupConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name query_table
 * @param cols {String} 跨列数
 * @param rows {String} 跨行数
 * @param name {String} 名称
 * @param url {String} 请求地址
 * @param title {String} 标题
 * @param id {String} 表单ID
 * @param bindformname {String} 绑定的表单name
 * @param request_num {String} 请求的条数
 * @param data {Array} 展示的数据源
 * @param hasPage {Boolean} 是否有分页
 * @param callback {String} 回调函数
 * @param position_str {String} 定位串
 * @param baseparams {Json} 用户自定义基本参数
 * @param items {Array} 列表条目 格式如{"name":"organFlag","text":"机构类型","dealFun":"lhkh.organFlagFn"}
 * @param events {Array}
 * @param numbercolumn {Boolean} 是否启用数字序列
 * @param selectModel {String} single/multi 启用单选/多选选择框
 * @param simpleRequest {Boolean} 是否使用普通参数模式（发送index到后台）
 * @param titleButtons {Array} 工具栏　格式如[{"label":"添加","cls":"add","event":"add()"}]
 * @description query_table组件，查询列表组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example
 *	<pre>\#query_table({"cols":"2","rows":"10","name":"queryTable","url":"callback/getCallBack.json", "request_num":"2","position_str":"positionStr",
 *		"hasPage":true, "items":[{"name":"clientId","text":"客户号","width":"100px"},
 *		{"name":"clientName","text":"客户姓名"},{"name":"fundAccount","text":"资产账号"},
 *		{"name":"operatorNo","text":"操作员编号"},{"name":"phone","text":"移动电话"},
 *		{"name":"contact","text":"联系方式"},{"name":"organFlag","text":"机构类型","dealFun":"lhkh.organFlagFn"}],
 *		"events":[{"event":"onclick","function":"lhkh.tableClick()"},
 *		{"event":"rowclick","function":"lhkh.tableRowClick()"},
 *		{"event":"rowdblclick","function":"lhkh.tableRowDblClick()"}]})
 *	</pre>
 * @since version 0.1
 *#	
#**
 * @lends query_table
 *#
#**
* -----------------------------------------------------------------------
* 修订记录：
* 2014-01-22    zhangsu        列支持hidden属性
* 2014-01-22    zhangsu        新增rowSelect属性，使grid支持点击行选中该行
* 2014-01-24    zhangsu        新增rowclick和rowdbclick事件
* 2014-03-31    zhangsu        BUG #6530 目前titleButtons全部居左，和grid中默认居右不一致
* 2014-04-04    zhangsu        BUG #6574 [queryTable]:单选模式最好选择列是圆圈 
* 2014-04-09    zhangsu        BUG #6548 [query_table]设置cols无效
* 2014-04-14    zhangsu        BUG #6728 query_table属性hasPage不配置时，未使用默认值
* 2014-04-15    zhangsu        BUG #6492 selectModel：“ 行数据选择模式（single/muti 启用单选/多选选择框） ”，这里是“multi”误拼居“muti”了吗？它的默认值是什么？
* 2014-04-16    zhangsu        STORY #8089 添加save/query/confirm/refresh/open几种样式
* 2014-04-28    周智星                         BUG #6884 【query_table】设置非法selectModel；BUG #6883 【query_table】设置非法numbercolumn，都会显示索引
* 2014-04-28    周智星                         BUG #6882 【query_table】title设置为空、不设置、设置有值表现出现的结果出人意料
* 2014-05-22    zhangsu        STORY #8368 [研发中心/内部需求][jresplus][ui]-queryTable组件当分页属性hasPage设置为false时，dom结构还是会生成分页的结构
* 2014-06-13    zhangsu        STORY #8487 querytalbe 未设置selectModel 的情况下，出现多选，无法实现无选择框的情况 
* 2014-06-16    zhangsu        STORY #8487 querytalbe 未设置hasPage 的情况下出现分页栏，不配置，不分页
* 2014-10-22 	wangyb10555	   STORY #10064 [研发中心/内部需求]JRESPlus-ui-分组菜单式按钮的组件的菜单可以绑定到Querytable组件当中的titleButtons中的button上 
* 2015-9-24 	周智星		   STORY   #13314 【TS:201509230319-JRESPlus-内部客户-张星-一、QueryTable的title部显示的问题
* 2015-10-09    周智星                                 BUG   #11940 需求13314，querytable中"titleButtons":""时，按钮栏会显示，建议与title一致，不显示
* 2016-1-20      刘龙                                     STORY 16444 【TS:201601130123-JRESPlus-经纪业务事业部-张小攀-【项目名称】UF3.0<br>【产品及版本信息】jrespl】
* 2016-1-22      刘龙                                     STORY  16542 【TS:201601150495-JRESPlus-经纪业务事业部-张小攀-5.query_table和datagrid数据格式化不统一】
* -----------------------------------------------------------------------
*# 
#macro(query_table $params) 
    #if($params.cols)
    	#set($cols = $params.cols)
	#else
        #set($cols = 3)
	#end
    <div class="g-datagrid-wrap">
		#if($params.title&&$params.title!="")
			<div class="u-datagrid-header">
				<h4 class="u-datagrid-title">$!{params.title}</h4>
			</div>
		#end
		#if($params.titleButtons&&$params.titleButtons!="")
			<div class="u-datagrid-toolbar">
				<ul class="u-datagrid-btn">
					#foreach($button in $params.titleButtons )
			     	<li><a name="$!{button.name}" href="JavaScript:void(0)" class="hc-datagrid-a hc_datagrid-alink #if($button.disabled)f-disabled#end" #if($button.refmenu&&!$button.disabled)refmenu="${button.refmenu}"#end #if($button.disabled)onClick="javascript:return false;" #else onClick="$!{button.event}" #end><i class="fa #if($button.cls=="add")fa-plus-circle#elseif($button.cls=="edit")fa-pencil-square-o#elseif($button.cls=="del")fa-remove#elseif($button.cls=="confirm")fa-save#elseif($button.cls=="save")fa-save#elseif($button.cls=="query")fa-search#elseif($button.cls=="open")fa-folder-open-o#elseif($button.cls=="refresh")fa-refresh #else $!{button.cls} #end"></i>$!{button.label}</a></li>
					#end
				</ul>
    		</div>
		#end
		
        <div class="h_listtable u-datagrid" style="overflow:auto;">
          <table class="h_table h_querytable table table-bordered table-stripe $!params.name"  id="$!params.name"
			  ##foreach($event in $params.events)
              ##	  $event.event = "$event.function"
              ##end
              #if($params.id)
                  id="$!{params.id}"  
			  #end
			  $horn.paramsCache($params)
              #if ($params.name)
              	name="$!{params.name}" 
              #end  
              #if ($params.bindformname )
              	bindformname="$!{params.bindformname}" 
              #end
              url="$!{params.url}" 
              #if ($params.request_num)
              	request_num="$!{params.request_num}" 
              #end
              #if ($params.position_str )
              	position_str="$!{params.position_str}" 
              #end
            
              #if ($params.hasPage&&($params.hasPage==true||$params.hasPage==false))
              	hasPage="$!{params.hasPage}" 
              #end
              #if ($params.autoLoad&&$params.autoLoad==true)
                autoLoad="$!{params.autoLoad}"
              #end
              #if ($params.requestMethod )
                requestMethod="$!{params.requestMethod}"
              #end
              ##foreach($event in $params.events)
              ##  $event.event = "$event.function"
              ##end
              #if($params.numbercolumn&&$params.numbercolumn==true)
                numbercolumn="$params.numbercolumn"
			  #end
			  #if($params.selectModel=="multi" || $params.selectModel=="muti" || $params.selectModel=="single")
				#set($selectModel = $params.selectModel)
			  #elseif($params.selectModel=="" || !$params.selectModel)
				#set($selectModel = "null")
			  #end	
              #if($selectModel=="single"||$selectModel=="multi"||$selectModel=="muti")
                selectModel="$selectModel"
              #end
              #if($params.simpleRequest)
                simpleRequest="$!{params.simpleRequest}"
			  #end
			  #if($params.callback)
				callback="$params.callback"
			  #end
			  #if($params.rowSelect)
				rowSelect = "$params.rowSelect"
			#end
          >
		  <thead>
        		#if($params.items)
					#if($params.numbercolumn&&$params.numbercolumn==true)
                        <th class="h_numbercolumn h_numbercolumn-width u-table-number"></th>
					#end
					#if($selectModel=="multi"||$selectModel=="muti") ##bug6492
                        <th class="h_querytable_checkboxcolumn h_checkcolumn-width u-table-check"><center><input type="checkbox" class="h_querytable_select_all"/></center></th>
					#elseif($selectModel == "single")
						<th class="h_querytable_radioboxcolumn h_checkcolumn-width u-table-check"></th>
					#end
        			#foreach($pItem in $params.items)
        				<th name="$!{pItem.name}"
                            colno="$velocityCount"
                        #if($pItem.dictName)
							dictName="$!{pItem.dictName}"
							$horn.addGlobal('componentSelects_s',$!{pItem.dictName})
            			#end
        				#if ($pItem.dealFun)
        					dealFun="$!{pItem.dealFun}" 
        				#end
        				#if ($pItem.renderer)
        					renderer="$!{pItem.renderer}" 
						#end
						#if($pItem.hidden)
							hidden = "$!{pItem.hidden}"
						#end	
						#if($pItem.width)
							width = "$!{pItem.width}"
							style="width:$!{pItem.width};"
						#end
						#if($pItem.dataType)
							dataType = "$!{pItem.dataType}"
						#end
						#if($pItem.format)
							format = "$!{pItem.format}"
						#end
        				>$!{pItem.text}</th>
					#end
				#end
		  </thead>
            <tbody>
                #if($params.data)
                    #foreach($mdata in $params.data)
                        #set($rowNumber = $velocityCount % 2)
                        <tr #if($rowNumber==0) class="u-table-bg" #end>
							#if($params.numbercolumn&&$params.numbercolumn==true)
                                <td>$velocityCount</td>
        					#end
        					#if($selectModel=="muti"||$selectModel=="multi")
                                <td><input type="checkbox" class="h_querytable_select"/></td>
							#elseif($selectModel=="single")
								<td><input type="radio" class="h_querytable_select"/></td>
        					#end
                            #foreach($pItem in $params.items)
                                #set($evalval = "$"+"!" + "{mdata." + "$!{pItem.name}" + "}" )
                                <td>#evaluate($evalval)</td>
                            #end
                        </tr>
					#end
				#else
					<tr>
						#set($size =$!{params.items.size()} ) 
    					#if($params.numbercolumn&&$params.numbercolumn==true)
                            #set($size = $size+1 )
            			#end
            			#if($params.selectModel&&$selectModel!="null")
                            #set($size = $size+1 )
						#end						
						<td colspan="$size" class="h_table-nodata"><p>暂时无数据</p></td>
					</tr>
                #end
            </tbody>
          </table>
		  
        </div>
        ##添加了表格高度属性，分页栏dom结构不在div.h_listtable内|16444 【TS:201601130123-JRESPlus-经纪业务事业部-张小攀-【项目名称】UF3.0<br>【产品及版本信息】jrespl】
        #if($params.hasPage ==true || $params.hasPage == false)   ##BUG #6728 query_table属性hasPage不配置时，未使用默认值
    	    #set($hasPage = $params.hasPage)
	      #else
            #set($hasPage = false)
	      #end
		  <div class="u-datagrid-page">
          	<div class="h_querytable_pages g-pagebar-wrap" $hasPage></div>
		  </div>
    </div>
#end
#**   
 * @author huling   
 * @class
 * @name radio
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param disabled {String} 是否禁用
 * @param alias {String} 别名
 * @param value {String} 值
 * @param label {String} 单选框组件显示值
 * @param check {String} 验证串
 * @param items {Json} 静态显示值 格式见示例
 * @param events {Json} 事件，格示见示例
 * @description radio组件，单选按钮组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#radio({"label":"客户类型", "name":"client.organFlag", "items":[{"label":"A","value":"投机"},{"label":"B","value":"套保"},{"label":"C","value":"套利"}], "events":[{"event":"onclick","function":"checkA(this.checked)"}]})
 * @since version 0.1
 *#	
#**
 * @lends radio
 *#
#macro(radiogroup $uiRadiogroupConfig)
#radio_group($uiRadiogroupConfig)
#end
#macro(radio_group $uiRadiogroupConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiRadiogroupConfig.cols&&$uiRadiogroupConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiRadiogroupConfig.cols)
				#if($uiRadiogroupConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiRadiogroupConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiRadiogroupConfig.cols)
				#if($uiRadiogroupConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiRadiogroupConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiRadiogroupConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
	
	#set($val = "")
    #set($val = $uiRadiogroupConfig.value)
    #if((!$val || $val =="") && $uiRadiogroupConfig.name)
        #set($val =  "$horn.getValue($!uiRadiogroupConfig.name)")
    #end
	##查看模式
    #if($view)
	<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$uiRadiogroupConfig.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiRadiogroupConfig.name" title="$!{uiRadiogroupConfig.label}">$!{uiRadiogroupConfig.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div name="$!{uiRadiogroupConfig.name}" class="hc_label"  $horn.paramsCache($uiRadiogroupConfig) 
        			#if($uiRadiogroupConfig.dictName)
        				dictName="$!{uiRadiogroupConfig.dictName}"
        				$horn.addGlobal('componentSelects_s',$!{uiRadiogroupConfig.dictName})
        			#end	
        			>
    				#foreach($item in $uiRadiogroupConfig.items)
    					#if($val==$item.code) $!item.text
    					#elseif($val==$item.value) $!item.label #end ## 兼容性冗余
    				#end
    			</div>
			</div>
	    </div>
	 </div>
	 
	#else
		<div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
		  	 #set($checkStr=$horn.getCheckStr($uiRadiogroupConfig.name,$uiRadiogroupConfig.check))
			 #set($groupStr=$horn.getGroupStr($uiRadiogroupConfig.name,$uiRadiogroupConfig.group))
			    #if(!$uiRadiogroupConfig.hiddenLabel)
				<label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!uiRadiogroupConfig.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!uiRadiogroupConfig.label</label>
			    #end
				<div class="g-grid-8">
					<div class="hc_radio-group u-radio-group" id="$!{uiRadiogroupConfig.id}" $horn.paramsCache($uiRadiogroupConfig)  name="$!uiRadiogroupConfig.name" #if($uiRadiogroupConfig.alias)alias="${uiRadiogroupConfig.alias}"#end>
						#set($items=[])
                    	#if($dictManager && $uiRadiogroupConfig.dictName)
                        	#set($items = $dictManager.getDicts($uiRadiogroupConfig.dictName))
                        #else
                        	#set($items = $uiRadiogroupConfig.items)
                    	#end
                        #foreach($item in $items)
        				  #set($radioGroupInputId=$horn.getUUID())
						  <div class="u-radio">
							<label>
						    	<input type="radio" name="$!uiRadiogroupConfig.name" id="$!{radioGroupInputId}" class="radio_input"
            					#if($uiRadiogroupConfig.alias)
                                   alias="$!{uiRadiogroupConfig.alias}"
                                #end
                                value=#if($uiRadiogroupConfig.dictName) "$!item.label" #else #if($item.value)"$item.value"#else"$!item.code"#end #end
                                check="$checkStr"
                    			group="$groupStr"
                                />
								#if($uiRadiogroupConfig.dictName)$!item.value#else #if($item.label)$!item.label#else$!item.text#end #end
						    </label>
						 </div>
        				#set($radioGroupInputId="")
        				#end
					</div>
			    </div>
		    </div>
		  </div>
	#end
	#set($uiRadiogroupConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name select
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param disabled {String} 是否禁用
 * @param id {String} 唯一标识
 * @param alias {String} 别名
 * @param value {String} 值
 * @param headItem {Json} 选项头格式如:{"label":"","value":"请选择"}
 * @param label {String} 单选框组件显示值
 * @param check {String} 验证串
 * @param items {Json} 静态显示值 格式："items":[{"label":"男", "pLabel":"0", "value":"1"},{"label":"女", "value":"2", "pLabel":"1"}] pLabel为当前节点的父节点编号
 * @param dictName {String} 数据字典名
 * @param refname {String} 关联筛选的组件名
 * @param multiple {String} 是否多选
 * @param checkAll {boolean} 是否全选
 * @param delimiter {String} 多选时的显示分隔符
 * @param showLabel {Boolean} 是否在渲染列表项目时显示实际值，默认为false
 * @param events {Json} 事件，格示见示例
 * @description select组件，下拉选项组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#select({"label":"多交易中心","name":"sysNodes", "dictName":"SysNode", "multiple":true, "value":"1,1001", "check":"", "events":[{"event":"onblur","function":"getFundAccount(this)"}]})
 * @since version 0.1
 *#	
#**
 * @lends select
 *#
#macro(select $uiSelectConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiSelectConfig.cols&&$uiSelectConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiSelectConfig.cols)
				#if($uiSelectConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiSelectConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiSelectConfig.cols)
				#if($uiSelectConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiSelectConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiSelectConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
	##设置是否显示标签
    #set($showLabel = false)
    #if($uiSelectConfig.showLabel&&$uiSelectConfig.showLabel == "true")
    	#set($showLabel = true)
    #end
	##查看模式
    #if($view)
        #set($val = "")
        #set($val = $uiSelectConfig.value)
        #if(!$val || $val =="" && $!{uiSelectConfig.name} )
            #set($val =  "$horn.getValue($!uiSelectConfig.name)")
        #end
		<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$uiSelectConfig.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiSelectConfig.name" title="$!{uiSelectConfig.label}">$!{uiSelectConfig.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div name="$!{uiSelectConfig.name}" $horn.paramsCache($uiSelectConfig)  class="hc_label" #if($uiSelectConfig.multiple) mutiValue="true" #end
                #if($uiSelectConfig.dictName)
    				dictName="$!{uiSelectConfig.dictName}"
    				$horn.addGlobal('componentSelects_s',$!{uiSelectConfig.dictName})
    			#end
    			>$!val</div>
			</div>
	    </div>
	 </div>
	#else
		<div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
		  	 #set($checkStr=$horn.getCheckStr($uiSelectConfig.name,$uiSelectConfig.check))
			 #set($groupStr=$horn.getGroupStr($uiSelectConfig.name,$uiSelectConfig.group))
				#if(!$uiSelectConfig.hiddenLabel)
			    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!uiSelectConfig.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!uiSelectConfig.label</label>
			    #end
				<div class="g-grid-8">
					<div id="$!{uiSelectConfig.id}" $horn.paramsCache($uiSelectConfig)  class="hc_select">

                    #if($uiSelectConfig.items)
                    	#set($uiSelectConfigItems = $uiSelectConfig.items)
                    #elseif($dictManager && $uiSelectConfig.dictName)
                        #set($uiSelectConfigItems = $dictManager.getDicts($uiSelectConfig.dictName))
            		#end
                	#set($curvalue="")
                	#if($uiSelectConfig.value)
                		#set($curvalue=$!{uiSelectConfig.value})
                	#else
                		#set($curvalue="$horn.getValue($!uiSelectConfig.name)")
                	#end
                    #if($uiSelectConfig.delimiter)
                        #set($delimiter=$!{uiSelectConfig.delimiter})
                    #else
                        #set($delimiter=",")
                    #end
                    #set($multipleValue="")
                	<input type="hidden" name="$!{uiSelectConfig.name}"
                		#if($uiSelectConfig.alias)
                			alias="$!{uiSelectConfig.alias}"
                		#end
                	#if($uiSelectConfig.refname)
                		refname="$!{uiSelectConfig.refname}"
                	#end
                	#if(!$curvalue.equals(""))
                		value="$!curvalue"
                    #else
                    	#if($uiSelectConfig.multiple != true && $uiSelectConfigItems.size()>0)
                			#set($item = $uiSelectConfigItems.get(0))
                            #if($uiSelectConfig.headItem)
                                value="$uiSelectConfig.headItem.label"
                            #else
                                value="$item.label"
                            #end
                        #elseif($uiSelectConfig.multiple == true && $uiSelectConfigItems.size()>0 && $uiSelectConfig.checkAll==true)
                            #foreach($item in $uiSelectConfigItems)
                                #if($velocityCount == $uiSelectConfigItems.size())
                                    #set($multipleValue = $multipleValue+$!{item.label})
                                #else
                                    #set($multipleValue = $multipleValue+$!{item.label}+$!{delimiter})
                                #end
                           #end
                            value = "$!{multipleValue}"
                        #end
                	#end
                	check="$!{checkStr}"
                	group="$!{groupStr}"
                	/>
                	<input type="text"  class="u-select" 
                    	#if($uiSelectConfig.dictName && $horn)
                    		#if($uiSelectConfig.multiple == true)
                    		 	ref="$!{uiSelectConfig.dictName}_m"
                    		 #else
                    		 	ref="$!{uiSelectConfig.dictName}_s"
                    			#end
                    	#end
                        #if(${uiSelectConfig.disabled})
                            disabled="disabled"
                        #end
                        #if(${uiSelectConfig.readonly})
                            readonly="readonly"
                        #end
                    	#if(!$curvalue.equals(""))
                    		#if($uiSelectConfig.multiple == true)
                    			value="$!curvalue" 
                    		#else
                            	#if($uiSelectConfigItems)
                					#foreach($item in $uiSelectConfigItems)
                    	    			#if($item.label == $curvalue)
                    	    				value="#if($showLabel)$item.label:#end$item.value" 
                    	    			#end
                    	    		#end
                                #elseif($dictManager && $uiSelectConfig.dictName)
                                    #set($val = $dictManager.getDictEntry($uiSelectConfig.dictName,$curvalue));
                                    value="$curvalue:$val.getValue()"
                            	#end
                    		#end
                    	#elseif($uiSelectConfig.multiple != true && $uiSelectConfigItems.size()>0)
                    		#set($item = $uiSelectConfigItems.get(0))
                            #if($uiSelectConfig.headItem)
                                value="$uiSelectConfig.headItem.value"
                            #else
                                value="#if($showLabel)$item.label:#end$item.value"
                            #end
                        #elseif($uiSelectConfig.multiple == true && $uiSelectConfigItems.size()>0 && $uiSelectConfig.checkAll==true)
                            value = "$!{multipleValue}"
                    	#else
                    		value="" 
                    	#end
                        delimiter="$!{delimiter}"
						#if($uiSelectConfig.emptyText) placeholder="$!uiSelectConfig.emptyText"#end
                	/>
					<i class="fa fa-caret-down u-select-down"></i>
                		#if($uiSelectConfig.dictName && $horn)
                    		#if($uiSelectConfig.multiple == true)
                    		 	$horn.addGlobal("componentSelects_m",$!{uiSelectConfig.dictName})
                    		 #else
                    		 	$horn.addGlobal("componentSelects_s",$!{uiSelectConfig.dictName})
                			#end
                		#else
                			#if($uiSelectConfigItems)
                				<div class="hc_checkboxdiv"
                					#if($uiSelectConfig.multiple == true)
                						multiple_line="true"
                					#else
                						multiple_line="false"
                					#end
                				>
                					<ul>
                						#foreach($pItem in $uiSelectConfigItems)
                							<li title="$!{pItem.value}" pKey="$!{pItem.pLabel}" key="$!{pItem.label}"><label>
                								#if($uiSelectConfig.multiple == true)
                									<input type="checkbox" class="combox_input">
                								#end
                								#if($showLabel)$!{pItem.label}:#end$!{pItem.value}
                							</label></li>
                						#end
                					</ul>
                				</div>
                			#end
                		#end	
                	</div>
			    </div>
		    </div>
		  </div>
	#end
	#set($uiSelectConfig = {})
	#set($uiSelectConfigItems = [])
#end
#**   
 * @author huling   
 * @class
 * @name select_tree
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param value {String} 值
 * @param label {String} 日历组组件显示值
 * @param check {String} 验证串
 * @param dictName {String} 数据字典名称
 * @param checkbox {String} 是否有复选框 可选值"checkbox"、"radio"或""
 * @param isLevelSelect {String} 同级是否能选择多次 可选值"true"、"false"，默认"false"
 * @param root_id {String} 根节点的key 默认为"0"表示全部展示，如果不为"0"则表示要展示的单一树
 * @param url {String} 组件请求的数据地址，默认不需要此项，使用框架提供的地址"/dict/getDictEntries.htm?format=json"
 * @param events {Json} 事件，格示见示例
 * @description select_tree组件，树形下拉组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#select_tree({"label":"行业分类","name":"industryRange", "dictName":"IndustryCode", "check":"", "value":"", "checkbox":"","root_id":"0","events":[{"event":"onchange","function":"return chgIndustryCode.apply(this,arguments)"}]})
 * @since version 0.1
 *#	
#**
 * @lends select_tree
 *#
#macro(select_tree $params)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($params.cols&&$params.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($params.cols)
				#if($params.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($params.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($params.cols)
				#if($params.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($params.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($params.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
    #set($val = "")
    #set($val = $params.value)
    #if(!$val || $val =="" && $params.name )
        #set($val =  "$horn.getValue($!params.name)")
    #end
	##查看模式
    #if($view)
        #set($val = "")
        #set($val = $params.value)
        #if(!$val || $val =="" && $params.name )
            #set($val =  "$horn.getValue($!params.name)")
        #end
		<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$params.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!params.name" title="$!{params.label}">$!{params.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div name="$!{params.name}" $horn.paramsCache($params)  class="hc_label" 
    			>$!val</div>
			</div>
	    </div>
	 </div>
	#else
		<div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
		  	 #set($checkStr=$horn.getCheckStr($params.name,$params.check))
			 #set($groupStr=$horn.getGroupStr($params.name,$params.group))
				#if(!$params.hiddenLabel)
			    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!params.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!params.label</label>
			    #end
				<div class="g-grid-8">
					<div class="hc_select-tree" id="$!{params.id}" title="$!{params.value}" $horn.paramsCache($params) >
                    	<input type="hidden" name="$params.name" 
                    	value=#if($params.value)"$!{params.value}"#else "" #end
                    	dictName="$!{params.dictName}" 
                    	checkMode="$!{params.checkMode}"
                    	isLevelSelect="$!{params.isLevelSelect}"  
                    	check="$checkStr"
                    	group="$groupStr"
                    	 root_id="$!{params.root_id}"
                    	#if($params.data) data-data=$!{params.data} #end
                    	expandFirst="$!{params.expandFirst}"
                    	#if($params.search) search="$!{params.search}" #end 
                    	#if($params.filterBy) filterBy="$!{params.filterBy}" #end 
                    	#if($params.disabled) disabled="disabled" #end >
                    	<input type="text" class="u-select hc_select-tree" #if($params.emptyText)placeholder="$!params.emptyText"#end
                    		#foreach($event in $params.events)
                    			$event.event = "$event.function" 
                    		#end
                            readonly="readonly"
                            #if($params.disabled)
                                disabled="disabled"
                            #end
                        	value=#if($params.value)"$!{params.value}"#else"$val"#end
                        	ref="ztree_$params.name.replaceAll('\.', '_')" 
                    		url="$!{params.url}" 
                    	/>
						<a href="javascript:void(0)"><i class="fa fa-close u-select-colse"></i></a>
						##<i class="fa fa-caret-down u-select-down"></i>
                    	$horn.addGlobal("componentSelect_trees",$params.name.replaceAll("\.", "_"))
                    	</div>
			    </div>
		    </div>
		  </div>
	#end
#end
#**   
 * @author huling   
 * @class
 * @name tab_panel_start
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param liWidth {String} 自定义标签宽度
 * @param maxTabCn {String} 标签最大个数
 * @description tab_panel_start组件，tab_panel开始组件需要和tab_panel_end组件配合使用
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#tab_panel_content_start({"name":"openAccount","cols":"3","rows":"10"})
 * @since version 0.1
 *#	
#**
 * @lends tab_panel_start
 *#
#macro(tab_panel_start $uiTabPanelConfig)
	#set($tabPanelClass = "h_tabpanel")
	#if($uiTabPanelConfig.position)
		#set($tabPanelClass = "$tabPanelClass h_tabs-pos-${uiTabPanelConfig.position}")
	#else
		#set($tabPanelClass = "$tabPanelClass h_tabs-pos-top")
	#end
	#if($uiTabPanelConfig.themes && $uiTabPanelConfig.themes != "gray")
		#set($tabPanelClass = "$tabPanelClass h_tabpanel-themes-${uiTabPanelConfig.themes}")
	#end
	<div class="$tabPanelClass" id="$!{uiTabPanelConfig.id}" name="$!{uiTabPanelConfig.name}" $horn.paramsCache($uiTabPanelConfig) maxTabCn="$!{uiTabPanelConfig.maxTabCn}">
		<div class="h_tabpanel-tabs">
			#if($uiTabPanelConfig.position == "left" || $uiTabPanelConfig.position == "right")
				<div class="h_tabscroller-top u-tab-top"><i class="fa fa-caret-up"></i></div>
				<div class="h_tabscroller-bottom u-tab-bottom"><i class="fa fa-caret-down"></i></div>
			#else
				<div class="h_tabscroller-left u-tab-left"><i class="fa fa-caret-left"></i></div>
				<div class="h_tabscroller-right u-tab-right"><i class="fa fa-caret-right"></i></div>
			#end
			<div class="h_tabpanel-wrap">	
				<ul class="h_tabpanel-wrap-ul u-tab-nav"></ul>
			</div>
		</div>
		<div class="h_tabpanel-contents u-tab-cnt"></div>
		#set($uiTabPanelConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name tab_panel
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @description tab_panel_start组件，tab_panel开始组件需要和tab_panel_end组件配合使用
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#@tab_panel({"name":"openAccount","cols":"3","rows":"10"})
 * @since version 0.1
 *#	
#**
 * @lends tab_panel
 *#
#macro(tab_panel $uiTabPanelConfig)
	#set($tabPanelClass = "h_tabpanel")
	#if($uiTabPanelConfig.position)
		#set($tabPanelClass = "$tabPanelClass h_tabs-pos-${uiTabPanelConfig.position}")
	#else
		#set($tabPanelClass = "$tabPanelClass h_tabs-pos-top")
	#end
	#if($uiTabPanelConfig.themes && $uiTabPanelConfig.themes != "gray")
		#set($tabPanelClass = "$tabPanelClass h_tabpanel-themes-${uiTabPanelConfig.themes}")
	#end
	<div class="$tabPanelClass" id="$!{uiTabPanelConfig.id}" name="$!{uiTabPanelConfig.name}" $horn.paramsCache($uiTabPanelConfig) maxTabCn="$!{uiTabPanelConfig.maxTabCn}">
		<div class="h_tabpanel-tabs">
			#if($uiTabPanelConfig.position == "left" || $uiTabPanelConfig.position == "right")
				<div class="h_tabscroller-top u-tab-top"><i class="fa fa-caret-up"></i></div>
				<div class="h_tabscroller-bottom u-tab-bottom"><i class="fa fa-caret-down"></i></div>
			#else
				<div class="h_tabscroller-left u-tab-left"><i class="fa fa-caret-left"></i></div>
				<div class="h_tabscroller-right u-tab-right"><i class="fa fa-caret-right"></i></div>
			#end
			<div class="h_tabpanel-wrap">	
				<ul class="h_tabpanel-wrap-ul u-tab-nav"></ul>
			</div>
		</div>
		<div class="h_tabpanel-contents u-tab-cnt"></div>
		#set($uiTabPanelConfig = {})
		$bodyContent
	</div>
#end

#**   
 * @author huling   
 * @class
 * @name tab_panel_end
 * @description tab_panel_end组件，tab_panel结束组件需要和tab_panel_start组件配合使用
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#tab_panel_end
 * @since version 0.1
 *#	
#**
 * @lends tab_panel_end
 *#
#macro(tab_panel_end)
	</div>
#end
#**   
 * @author huling   
 * @class
 * @name tab_panel_content_start
 * @param name ｛String｝ tab页名称
 * @param id {String} 唯一标识
 * @param title ｛String｝ tab页标题
 * @param events {Json} 事件，格示见示例
 * @description tab_panel_content_start组件，tab_panel_content标签页开始组件需要和tab_panel_content_end组件配合使用
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#tab_panel_content_start({"title":"机构信息","name":"org", "events":[{"event":"onblur","function":"getFundAccount(this)"}]})
 * @since version 0.1
 *#	
#**
 * @lends tab_panel_content_start
 *#
 
 #**
* -----------------------------------------------------------------------
* 修订记录：                  修改人                   修改原因
* 2014-4-22       周智星                BUG #6775 【tab_panel】在某种场景下第二个标签页会显示第一个标签页的title
* 2014-06-24      zhangsu     去掉静态tab创建时tab的title属性文字较长被截断的代码
* -----------------------------------------------------------------------
*#
#macro(tab_panel_content_start $uiTabPanelContentConfig)
	#set($uiTabContenttitle=$uiTabPanelContentConfig.title )
	#set($uiTabContentName="")
	#if($uiTabPanelContentConfig.name)
		#set($uiTabContentName=$uiTabPanelContentConfig.name)
	#else
		#set($uiTabContentName=$horn.getUUID())
	#end
	<ul style="display:none" class="u-tab-nav">
		<li ref="$!{uiTabContentName}" title="$!{uiTabPanelContentConfig.title}" tipMsg="$!{uiTabPanelContentConfig.title}" class="h_tabpanel-wrap-li"
			#foreach($event in $uiTabPanelContentConfig.events)
				$event.event = "$event.function" 
			#end
			><a href="javascript:void(0)">
				<span class="h_tab-arrow"></span>
				<span class="h_tab-icon"></span>
				<span class="h_tab-title">$!{uiTabContenttitle}</span>
				</a>
			</li>
			
	</ul>
	#set($tabPanelContentClass = "h_tabpanel-content")
	<div ref_target="$!{uiTabContentName}" class="$tabPanelContentClass" style="display:none" id="$!{uiTabPanelContentConfig.id}" $horn.paramsCache($uiTabPanelContentConfig) #if($uiTabPanelContentConfig.lazy)lazyload="${uiTabPanelContentConfig.lazy}"#end>
		#if(!${uiTabPanelContentConfig.lazy})
#end
#**   
 * @author huling   
 * @class
 * @name tab_panel_content
 * @param name ｛String｝ tab页名称
 * @param title ｛String｝ tab页标题
 * @param id {String} 唯一标识
 * @param events {Json} 事件，格示见示例
 * @description tab_panel_content_start组件，tab_panel_content标签页开始组件需要和tab_panel_content_end组件配合使用
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#@tab_panel_content({"title":"机构信息","name":"org", "events":[{"event":"onblur","function":"getFundAccount(this)"}]})
 * @since version 0.1
 *#	
#**
 * @lends tab_panel_content
 *#
#macro(tab_panel_content $uiTabPanelContentConfig)
	#set($uiTabContenttitle=$uiTabPanelContentConfig.title )
	#set($uiTabContentName="")
	#if($uiTabPanelContentConfig.name)
		#set($uiTabContentName=$uiTabPanelContentConfig.name)
	#else
		#set($uiTabContentName=$horn.getUUID())
	#end
	<ul style="display:none" class="u-tab-nav">
		<li ref="$!{uiTabContentName}" title="$!{uiTabPanelContentConfig.title}" tipMsg="$!{uiTabPanelContentConfig.title}" class="h_tabpanel-wrap-li"
			#foreach($event in $uiTabPanelContentConfig.events)
				$event.event = "$event.function" 
			#end
			><a href="javascript:void(0)">
				<span class="h_tab-arrow"></span>
				<span class="h_tab-icon"></span>
				<span class="h_tab-title">$!{uiTabContenttitle}</span>
				</a>
			</li>
			
	</ul>
	#set($tabPanelContentClass = "h_tabpanel-content")
	<div ref_target="$!{uiTabContentName}" class="$tabPanelContentClass" style="display:none" id="$!{uiTabPanelContentConfig.id}" $horn.paramsCache($uiTabPanelContentConfig) #if($uiTabPanelContentConfig.lazy)lazyload="${uiTabPanelContentConfig.lazy}"#end>
		#if(!${uiTabPanelContentConfig.lazy})
			$bodyContent
		#end
	</div>
	#set($uiTabPanelContentConfig={})
#end

#**   
 * @author huling   
 * @class
 * @name tab_panel_content_end
 * @description tab_panel_content_end组件，tab_panel_content标签页结束组件需要和tab_panel_content_start组件配合使用
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#tab_panel_content_end
 * @since version 0.1
 *#	
#**
 * @lends tab_panel_content_end
 *#
#macro(tab_panel_content_end)
    	#end
	</div>
	#set($uiTabPanelContentConfig={})
#end
#**   
 * @author zhouzx   
 * @class
 * @name textfield
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param alias {String} 别名
 * @param value {String} 值
 * @param defValue {String} 如果设置了defValue的值，重置成的defValue值，否则重置成初始值
 * @param label {String} 单选框组件显示值
 * @param check {String} 验证串
 * @param disabled {String} 是否禁用
 * @param readonly {String} 是否只读
 * @param maxlength {String} 最大长度
 * @param events {[Json]} 事件，json数组
 * @description textfield组件，文本框组件
 * @see The <a href="zhouzx@hundsun.com">huling</a >.   
 * @example \#textfield({"id":"userName","label":"名称","name":"name","cols":"1","maxlength":"20","check":"required","events":[{"event":"onclick","function":"getDom(this)"},{"event":"onblur","function":"getName(this.name)"}]})
 * @since version 0.1
 *#	
#**
 * @lends textfield
 *#


#macro(biz_targetselect $uiSelectConfig)
	#targetselect($uiSelectConfig)
#end
#macro(targetselect $uiSelectConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiSelectConfig.cols&&$uiSelectConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiSelectConfig.cols)
				#if($uiSelectConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiSelectConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiSelectConfig.cols)
				#if($uiSelectConfig.cols=="4")
					#set($cols = "g-grid-3-row")
				#elseif($uiSelectConfig.cols=="3")
					#set($cols = "g-grid-3-9-row")
				#elseif($uiSelectConfig.cols=="2")
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
	#set($label = "")
	#set($key = "")
	#set($val = $uiSelectConfig.value)
    #if($val&&"$!val"!="")
        #if($val.label)
			#set($label = $val.label)
		#end
		#if($val.key)
			#set($key = $val.key)
		#end
    #end
	##查看模式
    #if($view)
       
        <div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiSelectConfig.name" title="$!{uiSelectConfig.label}">$!{uiSelectConfig.label}</span></label>
		    <div class="g-grid-8">
				<div name="$!{uiSelectConfig.name}" $horn.paramsCache($uiSelectConfig)  class="hc_label" #if($uiSelectConfig.multiple) mutiValue="true" #end
    			>$!label</div>
			</div>
	    </div>
	 </div>
	 
	#else
		<div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
		  	 #set($checkStr=$horn.getCheckStr($uiSelectConfig.name,$uiSelectConfig.check))
			 #set($groupStr=$horn.getGroupStr($uiSelectConfig.name,$uiSelectConfig.group))
			    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!uiSelectConfig.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!uiSelectConfig.label</label>
			    <div class="g-grid-8">
					<div id="div_$!{uiSelectConfig.id}" $horn.paramsCache($uiSelectConfig)  class="hc_inputsearch u-targetselect-search">
                	<input type="hidden" name="$!{uiSelectConfig.name}" id="$!{uiSelectConfig.id}" 
                		#if($uiSelectConfig.alias)
                			alias="$!{uiSelectConfig.alias}"
                		#end
                	value="$!key"
                	check="$!{checkStr}"
                	group="$!{groupStr}"
                	#if($uiSelectConfig.onChange)
                	onChange="$!{uiSelectConfig.onChange}"
                	#else
                	onChange=""
                	#end
                	/>
                	<input type="text" name="view_$!uiSelectConfig.name" id="view_$!uiSelectConfig.id" maxlength="$!{uiSelectConfig.maxlength}" value="$!label" class="u-targetselect-search-input" 
                        #if(${uiSelectConfig.disabled})
                            disabled="disabled"
                        #end
                        readonly="readonly"
                    	onclick="$!uiSelectConfig.event"
                	/>
					<a href="javascript:void(0)"><i class="fa fa-close"></i></a>
                	</div>
			    </div>
		    </div>
		  </div>
	#end
	#set($uiSelectConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name textarea
 * @param cols {String} 跨列数
 * @param maxlength {String} 最大字符数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param disabled {String} 是否禁用
 * @param readonly {String} 是否只读
 * @param alias {String} 别名
 * @param value {String} 值
 * @param label {String} 单选框组件显示值
 * @param check {String} 验证串
 * @param events {Json} 事件，格示见示例
 * @description textarea组件，文本域组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#textarea({"label":"业务备注","name":"businRemark", "cols":3})
 * @since version 0.1
 *#	
#**
 * @lends textarea
 *#
#macro(textarea $uiTextAreaConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiTextAreaConfig.cols&&$uiTextAreaConfig.cols==2)
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiTextAreaConfig.cols)
				#if($uiTextAreaConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiTextAreaConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiTextAreaConfig.cols)
				#if($uiTextAreaConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiTextAreaConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiTextAreaConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
    #set($val = "")
    #set($val = $uiTextAreaConfig.value)
    #if(!$val || $val =="" && $uiTextAreaConfig.name )
        #set($val =  "$horn.getValue($!uiTextAreaConfig.name)")
    #end
	##查看模式
    #if($view)
		<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiTextAreaConfig.name" title="$!{uiTextAreaConfig.label}">$!{uiTextAreaConfig.label}</span></label>
		    <div class="g-grid-8">
				<div name="$!{uiTextAreaConfig.name}" class="hc_label" title="$!val" $horn.paramsCache($uiTextAreaConfig) 
                #if($uiTextAreaConfig.dictName)
    				dictName="$!{uiTextAreaConfig.dictName}"
    				$horn.addGlobal('componentSelects_s',$!{uiTextAreaConfig.dictName})
    			#end
    			><textarea  class="textarea-view" readonly>$!val</textarea></div>
			</div>
	    </div>
	 </div>
	#else
	  <div class="g-grid-$col #if($cols!="")$cols#end"">
	  	<div class="g-unit-wrap">
			 #set($checkStr=$horn.getCheckStr($uiTextAreaConfig.name,$uiTextAreaConfig.check))
	    	#set($groupStr=$horn.getGroupStr($uiTextAreaConfig.name,$uiTextAreaConfig.group))
			#if(!$uiTextAreaConfig.hiddenLabel)
				<label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!{uiTextAreaConfig.label}">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end$!{uiTextAreaConfig.label}</label>
			#end	
		    <div  class="g-grid-8">
		      <div id="$!{uiTextAreaConfig.id}" $horn.paramsCache($uiTextAreaConfig)  name="$uiTextAreaConfig.name"  class="hc_textarea">
			    	<textarea name="$uiTextAreaConfig.name" class="u-textarea"   title="$!val" #if($uiTextAreaConfig.emptyText)placeholder="$!uiTextAreaConfig.emptyText"#end
			    	#if($uiTextAreaConfig.alias)
			    		alias="${uiTextAreaConfig.alias}"
			    	#end
			        #if(${uiTextAreaConfig.disabled})
			              disabled="disabled"
			        #end
			        #if(${uiTextAreaConfig.readonly})
			              readonly="readonly"
					#end
					#if("$!{uiTextAreaConfig.rows}"!="")
			              rows="$!{uiTextAreaConfig.rows}"
					#else
						style = "height:34px;"
					#end
			    	##foreach($event in $uiTextAreaConfig.events)
			    	##	$event.event = "$event.function" 
			    	##end
			    	check="$!{checkStr}"
					group="$!{groupStr}"
			    	>$!val</textarea></div>
		    </div>
	    </div>
	  </div>
	#end
	#set($uiTextAreaConfig = {})
#end
#**   
 * @author zhouzx   
 * @class
 * @name textfield
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param alias {String} 别名
 * @param value {String} 值
 * @param defValue {String} 如果设置了defValue的值，重置成的defValue值，否则重置成初始值
 * @param label {String} 单选框组件显示值
 * @param check {String} 验证串
 * @param disabled {String} 是否禁用
 * @param readonly {String} 是否只读
 * @param maxlength {String} 最大长度
 * @param events {[Json]} 事件，json数组
 * @description textfield组件，文本框组件
 * @see The <a href="zhouzx@hundsun.com">huling</a >.   
 * @example \#textfield({"id":"userName","label":"名称","name":"name","cols":"1","maxlength":"20","check":"required","events":[{"event":"onclick","function":"getDom(this)"},{"event":"onblur","function":"getName(this.name)"}]})
 * @since version 0.1
 *#	
#**
 * @lends textfield
 *#
#macro(textfield $uiTextfieldConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiTextfieldConfig.cols&&$uiTextfieldConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiTextfieldConfig.cols)
				#if($uiTextfieldConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiTextfieldConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiTextfieldConfig.cols)
				#if($uiTextfieldConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiTextfieldConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiTextfieldConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
    #set($val = "")
    #set($val = $uiTextfieldConfig.value)
    #if((!$val || $val =="") && $uiTextfieldConfig.name )
        #set($val =  "$horn.getValue($!uiTextfieldConfig.name)")
    #end
	#if($view)
	<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$uiTextfieldConfig.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiTextfieldConfig.name" title="$!{uiTextfieldConfig.label}">$!{uiTextfieldConfig.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div name="$!{uiTextfieldConfig.name}" class="hc_label"  $horn.paramsCache($uiTextfieldConfig) 
        		#if($uiTextfieldConfig.alias)
        			alias="$!{uiTextfieldConfig.alias}"
        		#end
                #if($uiTextfieldConfig.dictName)
    				dictName="$!{uiTextfieldConfig.dictName}"
    				$horn.addGlobal('componentSelects_s',$!{uiTextfieldConfig.dictName})

    			#end	
    			>$!val</div>
			</div>
	    </div>
	 </div>
	#else
		  <div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
		  	 #set($checkStr=$horn.getCheckStr($!uiTextfieldConfig.name,$!uiTextfieldConfig.check))
			  #set($groupStr=$horn.getGroupStr($!uiTextfieldConfig.name,$!uiTextfieldConfig.group))
			    #if(!$uiTextfieldConfig.hiddenLabel)
				<label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!uiTextfieldConfig.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!uiTextfieldConfig.label</label>
			    #end
				<div class="g-grid-8">
					<div id="$!{uiTextfieldConfig.id}" $horn.paramsCache($uiTextfieldConfig) name="$uiTextfieldConfig.name" class="hc_textfield _text">
    			      <input type="text" name="$uiTextfieldConfig.name" class="u-textfield"  value="$!val" title="$!val" #if($!uiTextfieldConfig.emptyText)placeholder="$!uiTextfieldConfig.emptyText"#end
                		#if($uiTextfieldConfig.alias)
                			alias="${uiTextfieldConfig.alias}"
                		#end
                        #if(${uiTextfieldConfig.disabled})
                            disabled="disabled"
                        #end
                        #if(${uiTextfieldConfig.readonly})
                            readonly="readonly"
                        #end
                		check="$!{checkStr}"
            			group="$!{groupStr}"
                	/>
					</div>
			    </div>
		    </div>
		  </div>
	#end
	#set($uiTextfieldConfig = {})
#end
#**
* -----------------------------------------------------------------------
* 修订记录：
* 2015-10-28    刘龙       STORY #13588 【TS:201510090415-JRESPlus-财富管理事业部-虞凯-新版vm工作的查看模式下样式问题，见附件<br><br>】
* 2016-3-18  刘龙    bug#17068 typefield控件，value属性设置初始值为超出maxlength位数的值
* 2016-3-23  刘龙    bug#17218 typefield控件设置value值，maxlength截取后，输入框为分隔符未计入位数，但是焦点移入后移出，分隔符又被计入位数
*
* -----------------------------------------------------------------------
*#

#macro(typefield $uiTextfieldConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiTextfieldConfig.cols&&$uiTextfieldConfig.cols==2)
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiTextfieldConfig.cols)
				#if($uiTextfieldConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiTextfieldConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiTextfieldConfig.cols)
				#if($uiTextfieldConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiTextfieldConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiTextfieldConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
    #set($val = "")
    #set($val = $uiTextfieldConfig.value)
    #if((!$val || $val =="") && $uiTextfieldConfig.name )
        #set($val =  "$horn.getValue($!uiTextfieldConfig.name)")
    #end
	#if($view)
		<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$uiTextfieldConfig.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiTextfieldConfig.name" title="$!{uiTextfieldConfig.label}">$!{uiTextfieldConfig.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div name="$!{uiTextfieldConfig.name}" class="hc_label"  $horn.paramsCache($uiTextfieldConfig) 
        		#if($uiTextfieldConfig.alias)
        			alias="$!{uiTextfieldConfig.alias}"
        		#end
                #if($uiTextfieldConfig.dictName)
    				dictName="$!{uiTextfieldConfig.dictName}"
    				$horn.addGlobal('componentSelects_s',$!{uiTextfieldConfig.dictName})

    			#end	
    			>#if($moneyUtil)$!moneyUtil.moneyFormat($!val)#else$!val#end</div>
			</div>
	    </div>
	 </div>
		
	#else
		<div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
		  	 #set($checkStr=$horn.getCheckStr($!uiTextfieldConfig.name,$!uiTextfieldConfig.check))
			 #set($groupStr=$horn.getGroupStr($!uiTextfieldConfig.name,$!uiTextfieldConfig.group))
			    #if(!$uiTextfieldConfig.hiddenLabel)
				<label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!uiTextfieldConfig.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!uiTextfieldConfig.label</label>
			    #end
				<div class="g-grid-8">
					<div id="$!{uiTextfieldConfig.id}" name="$uiTextfieldConfig.name" class="hc_textfield typefield" $horn.paramsCache($uiTextfieldConfig)>
                    	<input type="hidden" name="$!{uiTextfieldConfig.name}" alias="$!{uiTextfieldConfig.alias}"
        					value="$!{uiTextfieldConfig.value}" 
                            check="$!{checkStr}"
                            #if(${uiTextfieldConfig.disabled})
                                disabled="disabled"
                            #end
            	            group="$!{groupStr}"/>
        				<input type="text"  class="u-typefield $!{_sizeClass}"
                    		value="$!{uiTextfieldConfig.value}" 
                            #if(${uiTextfieldConfig.disabled})
                                disabled="disabled"
                            #end
                            #if(${uiTextfieldConfig.readonly})
                                readonly="readonly"
                            #end
                    		inputType="$uiTextfieldConfig.inputType"
							#if($!uiTextfieldConfig.emptyText)placeholder="$!uiTextfieldConfig.emptyText"#end
                    	/>
						#if($uiTextfieldConfig.bigTips)
                        	<div class="u-typefield-capital" style="display: block"></div>
							<div class="u-typefield-tip" style="display: none"></div>
        				#end
            		</div>
			    </div>
		    </div>
		  </div>
    	
	#end
	#set($uiTextfieldConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name calendar
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param alias {String} 别名
 * @param value {String} 值
 * @param defValue {String} 如果设置了defValue的值，重置成的defValue值，否则重置成初始值
 * @param label {String} 日历组件显示值
 * @param check {String} 验证串
 * @param config {String} 日历自定义配置项 示例： "config":"{minDate:'%y-%M-%d', noToday:true, format:'yyyyMMdd'}"} 具体接口详见lhgcalendar接口文档<a href=""></a>
 * @param events {Json} 事件，格示见示例.日期改变时调用onchange配置的函数，实参为当前选择的日期值
 * @description calendar组件，日历组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#calendar({"label":"日历","name":"testCalendar","config":"{format:'yyyyMMdd'}","events":[{"event":"onchange","function":"getValue()"}]})
 * @since version 0.1
 * -----------------------------------------------------------------------
* 修订记录：
* 2016-3-2    刘龙                                     STORY  17380 【TS:201602230426-JRESPlus-资产管理事业部-张翔-【项目名称】非标准化投资管理系统2.0<br>【产品及版本信】
* 2016-3-11   刘龙                                     需求#17814 【TS:201603110065-JRESPlus-财富管理事业部-江志伟-【项目名称】恒生信托综合管理平台（TCMP）【产品及版本信息】
* 2016-3-15   刘龙                                     需求#17788 【TS:201603100065-JRESPlus-财富管理事业部-江志伟-项目名称】恒生信托综合管理平台（TCMP）<br>【产品及版】
* -----------------------------------------------------------------------
 *#	
#**
 * @lends calendar
 *# 
#macro(calendar $uiCalendarConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiCalendarConfig.cols&&$uiCalendarConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiCalendarConfig.cols)
				#if($uiCalendarConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiCalendarConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiCalendarConfig.cols)
				#if($uiCalendarConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiCalendarConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiCalendarConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
	#end
	
    #set($val = "")
    #set($val = $uiCalendarConfig.value)
    #if((!$val || $val =="") && $uiCalendarConfig.name )
        #set($val =  "$horn.getValue($!uiCalendarConfig.name)")
    #end
	##查看模式
    #if($view)
		<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$uiCalendarConfig.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiCalendarConfig.name" title="$!{uiCalendarConfig.label}">$!{uiCalendarConfig.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div name="$!{uiCalendarConfig.name}" class="hc_label"  $horn.paramsCache($uiCalendarConfig) 
        		#if($uiCalendarConfig.dictName)
    				dictName="$!{uiCalendarConfig.dictName}"
    				$horn.addGlobal('componentSelects_s',$!{uiCalendarConfig.dictName})
    			#end	
    			>$!val</div>
			</div>
	    </div>
	 </div>
    #else
		<div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
				#set($checkStr=$horn.getCheckStr($!uiCalendarConfig.name,$!uiCalendarConfig.check))
				#set($groupStr=$horn.getGroupStr($!uiCalendarConfig.name,$!uiCalendarConfig.group))
				#set($flag = true )
        		#if("$!checkStr"!="")
        			#set($checkSplit =$checkStr.split(";") )
        			#if($checkSplit&&$checkSplit.size()>1&&$checkStr.indexOf("required")>-1)
        				#set($flag = false )
        			#else
        				#if($checkStr.indexOf("required")==-1)
                    		#set($flag = false )
                    	#end
        			#end
				#end
				#if(!$uiCalendarConfig.hiddenLabel)
			    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!uiCalendarConfig.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!uiCalendarConfig.label</label>
			    #end
				<div class="g-grid-8">
					<div class="hc_calendar" id="$!{uiCalendarConfig.id}" $horn.paramsCache($uiCalendarConfig)  name="$uiCalendarConfig.name" 
        			#if($uiCalendarConfig.alias)
            			alias="${uiCalendarConfig.alias}"
            		#end
        			config="$!{uiCalendarConfig.config}"
        			>
                	<input type="hidden" name="$uiCalendarConfig.name" value="$val"
                		#if($uiCalendarConfig.alias)
                			alias="${uiCalendarConfig.alias}"
        				#end
        				check="$checkStr#if("$!{uiCalendarConfig.config}"==""&&$flag)Horn.Validate.validateFmt;#end"
                		group="$groupStr"
                	/><input type="text" value="$val" class="u-calendar" #if($uiCalendarConfig.emptyText)placeholder="$!uiCalendarConfig.emptyText"#end
                    		check="$checkStr#if("$!{uiCalendarConfig.config}"==""&&$flag)Horn.Validate.validateFmt;#end"
                			group="$groupStr"
                			#if("$!uiCalendarConfig.focusShowCalendar"=="false")
								focusShowCalendar="false"
								inputNotShow="false"
							#else
								focusShowCalendar="true"
							#end
                			#if("$!uiCalendarConfig.canEditable"=="false")
								inputNotShow="false" 
        				    	canEditable="false" 
        				    	onkeydown="return false;" 
							#else
								canEditable="true"
        				    #end
        				>
						<i class="fa fa-calendar u-calendar-down"></i>
    				</div>
			    </div>
		    </div>
		  </div>
	#end
	#set($uiCalendarConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name calendargroup
 * @param cols {String} 跨列数
 * @param id {String} 唯一标识
 * @param name1 {String} 开始日期名称
 * @param value1 {String} 开始日期值
 * @param defValue1 {String} 如果设置了defValue1的值，重置成的defValue1值，否则重置成初始值
 * @param name2 {String} 结束日期名称
 * @param value2 {String} 结束日期值
 * @param defValue2 {String} 如果设置了defValue2的值，重置成的defValue2值，否则重置成初始值
 * @param label {String} 日历组组件显示值
 * @param check {String} 验证串
 * @param config {String} 日历自定义配置项 示例： "config":"{minDate:'%y-%M-%d', noToday:true, format:'yyyyMMdd'}"} 具体接口详见lhgcalendar接口文档<a href=""></a>
 * @param events {Json} 事件，格示见示例
 * @description calendargroup组件，日期组组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#calendargroup({"label":"证件有效期", "name1":"client.idBeginDate", "name2":"client.idEndDate", "check":""})
 * @since version 0.1
  * -----------------------------------------------------------------------
* 修订记录：
* 2016-3-2    刘龙                                     STORY  17380 【TS:201602230426-JRESPlus-资产管理事业部-张翔-【项目名称】非标准化投资管理系统2.0<br>【产品及版本信】
* 2016-3-11   刘龙                                     需求#17814 【TS:201603110065-JRESPlus-财富管理事业部-江志伟-【项目名称】恒生信托综合管理平台（TCMP）【产品及版本信息】
* 2016-3-15   刘龙                                     需求#17788 【TS:201603100065-JRESPlus-财富管理事业部-江志伟-项目名称】恒生信托综合管理平台（TCMP）<br>【产品及版】
* -----------------------------------------------------------------------
 *#	
#**
 * @lends calendargroup
 *# 
#macro(calendargroup $uiCalendarGroupConfig)
 #calendar_group($uiCalendarGroupConfig)
#end
#macro(calendar_group $uiCalendarGroupConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiCalendarGroupConfig.cols&&$uiCalendarGroupConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiCalendarGroupConfig.cols)
				#if($uiCalendarGroupConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiCalendarGroupConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiCalendarGroupConfig.cols)
				#if($uiCalendarGroupConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiCalendarGroupConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiCalendarGroupConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
	#end
	
	#set($val1 = "")
    #set($val1 = $uiCalendarGroupConfig.value1)
    #if(!$val1 || $val1 =="" && $uiCalendarGroupConfig.name1 )
        #set($val1 =  "$horn.getValue($!uiCalendarGroupConfig.name1)")
    #end
    #set($val2 = "")
    #set($val2 = $uiCalendarGroupConfig.value2)
    #if(!$val2 || $val2 =="" && $uiCalendarGroupConfig.name2 )
        #set($val2 =  "$horn.getValue($!uiCalendarGroupConfig.name2)")
    #end
	##查看模式
    #if($view)
		<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$uiCalendarGroupConfig.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiCalendarGroupConfig.name" title="$!{uiCalendarGroupConfig.label}">$!{uiCalendarGroupConfig.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div name="$!{uiCalendarGroupConfig.name}" class="hc_label"  $horn.paramsCache($uiCalendarGroupConfig)>
					$!val1
					#if(($val1&&$val1!="")&&($val2&&$val2!=""))<lable class="hc_hyphen">~</lable>#end
					$!val2
				</div>
			</div>
	    </div>
	 </div>
		
	#else
		<div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
		  	 #set($checkStr=$horn.getCheckStr($uiCalendarGroupConfig.name1,$uiCalendarGroupConfig.check))
			 #set($groupStr=$horn.getGroupStr($uiCalendarGroupConfig.name,$uiCalendarGroupConfig.group))
			  #set($flag = true )
        		#if("$!checkStr"!="")
        			#set($checkSplit =$checkStr.split(";") )
        			#if($checkSplit&&$checkSplit.size()>1&&$checkStr.indexOf("required")>-1)
        				#set($flag = false )
        			#else
        				#if($checkStr.indexOf("required")==-1)
                    		#set($flag = false )
                    	#end
        			#end
				#end
				#set($emptyText1="")
				#set($emptyText2="")
				#if($uiCalendarGroupConfig.emptyText)
					#set($emptyText1=$uiCalendarGroupConfig.emptyText[0])
					#set($emptyText2=$uiCalendarGroupConfig.emptyText[1])
				#end
				#if(!$uiCalendarGroupConfig.hiddenLabel)
				<label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!uiCalendarGroupConfig.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!uiCalendarGroupConfig.label</label>
			    #end
				<div class="g-grid-8">
					<div class="hc_calendargroup g-row-wrap" config="$!{uiCalendarGroupConfig.config}" $horn.paramsCache($uiCalendarGroupConfig)>
				    	<div class="g-grid-6">
					    	<div class="hc_calendar2">
						    	<input type="hidden" name="$uiCalendarGroupConfig.name1" value="$!val1"
                            		#if($uiCalendarGroupConfig.alias)
                            			alias="${uiCalendarGroupConfig.alias}"
                            		#end
                            	/>
								<input type="text" class="u-calendar-group" placeholder="$!emptyText1"
                                    #if($uiCalendarGroupConfig.readonly)
                                        readonly="readonly"
									#end
									#if("$!uiCalendarGroupConfig.disabled"=="true")
									disabled="disabled"
									#end
                            		check="$checkStr#if("$!{uiCalendarGroupConfig.config}"==""&&$flag)Horn.Validate.validateFmt;#end"
                            		group="$groupStr"
                    				value="$!val1"
                    				#if("$!uiCalendarGroupConfig.focusShowCalendar"=="false")
        								focusShowCalendar="false"
        								inputNotShow="false"
        							#else
        								focusShowCalendar="true"
        							#end
                        			#if("$!uiCalendarGroupConfig.canEditable"=="false")
        								inputNotShow="false" 
                				    	canEditable="false" 
                				    	onkeydown="return false;" 
        							#else
        								canEditable="true"
                				    #end
                    			/>
						      	<i class="fa fa-calendar u-calendar-group-down"></i>
					      	</div>
						</div>
						<div class="g-grid-6">
					    	<div class="hc_calendar2" >
						    	<input type="hidden" name="$uiCalendarGroupConfig.name2" value="$!val2"/>
								<input type="text" class="u-calendar-group" placeholder="$!emptyText2"
                                #if($uiCalendarGroupConfig.readonly)
                                    readonly="readonly"
								#end
								#if("$!uiCalendarGroupConfig.disabled"=="true")
									disabled="disabled"
								#end
                        		check="$checkStr#if("$!{uiCalendarGroupConfig.config}"==""&&$flag)Horn.Validate.validateFmt;#end"
                        		group="$groupStr"
                				value="$!val2" 
								#if("$!uiCalendarGroupConfig.focusShowCalendar"=="false")
    								focusShowCalendar="false"
    								inputNotShow="false"
    							#else
    								focusShowCalendar="true"
    							#end
                    			#if("$!uiCalendarGroupConfig.canEditable"=="false")
    								inputNotShow="false" 
            				    	canEditable="false" 
            				    	onkeydown="return false;" 
    							#else
    								canEditable="true"
            				    #end
                				/>
						      	<i class="fa fa-calendar u-calendar-group-down"></i>
					      	</div>
						</div>
					</div>
			    </div>
		    </div>
		  </div>
	#end
	#set($uiCalendarGroupConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name checkbox
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param alias {String} 别名
 * @param static {String} 静态值
 * @param value {String} 值
 * @param label {String} 复选框显示值
 * @param check {String} 验证串
 * @param group {String}所属分组名字
 * @param checked {boolean} 是否选中
 * @param events {Json} 事件，格示见示例
 * @description checkbox组件，复选框组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#checkbox({"label":"证券6", "name":"age","static":"6","checked":true,"events":[{"event":"onclick","function":"checkA(this.value)"}]})
 * @since version 0.1
 *#	
#**
 * @lends checkbox
 *#
#macro(checkbox $uiCheckboxConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiCheckboxConfig.cols&&$uiCheckboxConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiCheckboxConfig.cols)
				#if($uiCheckboxConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiCheckboxConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiCheckboxConfig.cols)
				#if($uiCheckboxConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiCheckboxConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiCheckboxConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
	
    #set($val = "")
    #set($val = $uiCheckboxConfig.value)
    #if(!$val || $val =="" && $uiCheckboxConfig.name )
        #set($val =  "$horn.getValue($!uiCheckboxConfig.name)")
	#end
	#if($view)
	<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiCheckboxConfig.name" title="$!{uiCheckboxConfig.label}">$!{uiCheckboxConfig.label}</span></label>
		    <div class="g-grid-8">
				<div name="$!{uiCheckboxConfig.name}" class="hc_label"  $horn.paramsCache($uiCheckboxConfig) >#if($val) √#end</div>
			</div>
	    </div>
	 </div>
	#else
		  <div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
		  	 #set($checkStr=$horn.getCheckStr($uiCheckboxConfig.name,$uiCheckboxConfig.check))
			 #set($groupStr=$horn.getGroupStr($uiCheckboxConfig.name,$uiCheckboxConfig.group))
			    #if(!$uiCheckboxConfig.hiddenLabel)
				<label class="g-grid-4 unit-label" title="$!uiCheckboxConfig.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end</label>
			    #end
				<div class="g-grid-8">
					<div class="hc_checkbox u-checkbox-group" id="$!{uiCheckboxConfig.id}" $horn.paramsCache($uiCheckboxConfig) >
						<div class="u-checkbox">
							<label>
						    	<input type="checkbox" name="$uiCheckboxConfig.name" #if($uiCheckboxConfig.disabled) disabled="disabled" #end
                    			#if($uiCheckboxConfig.alias)
                    				alias="${uiCheckboxConfig.alias}"
                    			#end
                    			#if(($uiCheckboxConfig.checked && $uiCheckboxConfig.checked==true) || ($val && $uiCheckboxConfig.static && $val==$uiCheckboxConfig.static))
                    				checked="checked"
                    			#end
                    			value=#if($uiCheckboxConfig.static)"$!{uiCheckboxConfig.static}"#else"$val"#end
                    			check="$!{checkStr}"
                    			group="$!{groupStr}"
                    			/>$!uiCheckboxConfig.label
						    </label>
						 </div>
					</div>
			    </div>
		    </div>
		  </div>
	#end
	
	#set($uiCheckboxConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name checkboxGroup
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param alias {String} 别名
 * @param static {String} 静态值
 * @param value {String} 值
 * @param label {String} 复选框显示值
 * @param check {String} 验证串
 * @param events {Json} 事件，格示见示例
 * @description checkbox组件，复选框组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#checkbox({"label":"投机", "name":"futuresAccount[3].futuAccountType", "events":[{"event":"onclick","function":"checkA(this.checked)"}]})
 * @since version 0.1
 *#	
#**
 * @lends checkboxGroup
 *#
#macro(checkboxGroup $uiCheckboxGroupConfig)
    #checkbox_group($uiCheckboxGroupConfig)
#end
#macro(checkbox_group $uiCheckboxGroupConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiCheckboxGroupConfig.cols&&$uiCheckboxGroupConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiCheckboxGroupConfig.cols)
				#if($uiCheckboxGroupConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiCheckboxGroupConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiCheckboxGroupConfig.cols)
				#if($uiCheckboxGroupConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiCheckboxGroupConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiCheckboxGroupConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
	
	#set($val = "")
    #set($val = $uiCheckboxGroupConfig.value)
    #if((!$val || $val =="") && $uiCheckboxGroupConfig.name)
        #set($val =  "$horn.getValue($!uiCheckboxGroupConfig.name)")
	#end
	#if($view)
	<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$uiCheckboxGroupConfig.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiCheckboxGroupConfig.name" title="$!{uiCheckboxGroupConfig.label}">$!{uiCheckboxGroupConfig.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div name="$!{uiCheckboxGroupConfig.name}" class="hc_label"  $horn.paramsCache($uiCheckboxGroupConfig) >$!val</div>
			</div>
	    </div>
	 </div>
	#else
		  <div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
		  	 #set($checkStr=$horn.getCheckStr($uiCheckboxGroupConfig.name,$uiCheckboxGroupConfig.check))
			 #set($groupStr=$horn.getGroupStr($uiCheckboxGroupConfig.name,$uiCheckboxGroupConfig.group))
			    #if(!$uiCheckboxGroupConfig.hiddenLabel)
				<label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!uiCheckboxGroupConfig.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!uiCheckboxGroupConfig.label</label>
			    #end
				<div class="g-grid-8">
					<div class="hc_checkbox-group u-checkbox-group" id="$!{uiCheckboxGroupConfig.id}" $horn.paramsCache($uiCheckboxGroupConfig)  name="$!uiCheckboxGroupConfig.name" #if($uiCheckboxGroupConfig.alias)alias="${uiCheckboxGroupConfig.alias}"#end>
    			      #foreach($item in $uiCheckboxGroupConfig.items)
						<div class="u-checkbox">
							<label>
						    	<input type="checkbox" name="$!{uiCheckboxGroupConfig.name}" class="checkbox_input"
                    			value="#if(${item.value})${item.value}#else$!{item.code}#end"
                    			check="$!{checkStr}"
            					group="$!{groupStr}"
                    			/>
								#if(${item.label})${item.label}#else$!{item.text}#end
						    </label>
						 </div>
            		#end
					</div>
			    </div>
		    </div>
		  </div>
	#end
	#set($uiCheckboxGroupConfig = {})
#end
#**   
 * @author zhangchao   
 * @class
 * @name window_start
 * @param name ｛String｝ 名称
 * @param id {String} 唯一标识
 * @param title ｛String｝标题
 * @param height ｛String｝高度
 * @param width ｛String｝宽度
 * @param events {Json} 事件，格示见示例
 * @description window_start组件
 * @see 
 * @example \#window_start({"title":"弹出窗口","name":"org"})
 * @since version 0.1
 *#	
#**
 * @lends window_start
 *#
#macro(window_start $uiWindowConfig)
<div class="h_floatdiv m-message-positon" id="#if($uiWindowConfig.id)$uiWindowConfig.id#else$!{uiWindowConfig.name}#end" $horn.paramsCache($uiWindowConfig)  name="$!{uiWindowConfig.name}" h_height="$!{uiWindowConfig.height}" h_width="$!{uiWindowConfig.width}" scroll="$!{uiWindowConfig.scroll}" isAuto="$!{uiWindowConfig.isAuto}" style="display:none">
	<div class="m-message-header">
        <div class="h_floatdiv-title  m-message-btn"><a href="javascript:void(0);" class="m-btn-default m-btn-close"><i class="fa fa-times"></i></a>
		</div>
		<h4 class="mod_tt m-message-title" title="$!{uiWindowConfig.title}"><span>$!{uiWindowConfig.title}</span></h4>
	</div>
	<div class="h_floatdiv-con g-wrap m-message-body m-brt-none">

#end
#**   
 * @author zhangchao   
 * @class
 * @name window_start
 * @param name ｛String｝ 名称
 * @param id {String} 唯一标识
 * @param title ｛String｝标题
 * @param height ｛String｝高度
 * @param width ｛String｝宽度
 * @param events {Json} 事件，格示见示例
 * @description window_start组件
 * @see 
 * @example \#window_start({"title":"弹出窗口","name":"org"})
 * @since version 0.1
 *#	
#**
 * @lends window_start
 *#
#macro(window $uiWindowConfig)
<div class="h_floatdiv m-message-positon" id="#if($uiWindowConfig.id)$uiWindowConfig.id#else$!{uiWindowConfig.name}#end" $horn.paramsCache($uiWindowConfig)  name="$!{uiWindowConfig.name}" h_height="$!{uiWindowConfig.height}" h_width="$!{uiWindowConfig.width}" scroll="$!{uiWindowConfig.scroll}" isAuto="$!{uiWindowConfig.isAuto}" style="display:none">
	<div class="m-message-header">
        <div class="h_floatdiv-title  m-message-btn"><a href="javascript:void(0);" class="m-btn-default m-btn-close"><i class="fa fa-times"></i></a>
		</div>
		<h4 class="mod_tt m-message-title" title="$!{uiWindowConfig.title}"><span>$!{uiWindowConfig.title}</span></h4>
	</div>
	<div class="h_floatdiv-con g-wrap m-message-body m-brt-none">
		$bodyContent
	</div>
	#if($uiWindowConfig.buttons)
	<div class="m-message-footer" >
		#if($uiWindowConfig.buttons)
			#foreach($button in $uiWindowConfig.buttons)
				<button type="button"
                name="$!{button.name}"
				class="u-btn#if($!button.className) $!{button.className}#else u-btn-default#end"
				onclick="$!{button.event}">$!{button.label}</button>
			#end
		#end
    </div>
	#end
</div>
#set($uiWindowConfig = {})
#end
#**   
 * @author zhangchao   
 * @class
 * @name window_end
 * @description window_end组件
 * @see
 * @example \#window_end
 * @since version 0.1
 *#	
#**
 * @lends window_end
 *#
#macro(window_end $uiWindowConfig)
	</div>
	#if($uiWindowConfig.buttons)
	<div class="m-message-footer" >
		#if($uiWindowConfig.buttons)
			#foreach($button in $uiWindowConfig.buttons)
				<button type="button"
                name="$!{button.name}"
				class="u-btn #if($!button.className)$!{button.className}#end"
				onclick="$!{button.event}">$!{button.label}</button>
			#end
		#end
    </div>
	#end
</div>
#set($uiWindowConfig = {})
#end
#**   
 * @author huling   
 * @class
 * @name combox
 * @param cols {String} 跨列数
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param alias {String} 别名
 * @param value {String} 值
 * @param label {String} 单选框组件显示值
 * @param check {String} 验证串
 * @param items {Json} 静态显示值 格式："items":[{"label":"男", "pLabel":"0", "value":"1"},{"label":"女", "value":"2", "pLabel":"1"}] pLabel为当前节点的父节点编号
 * @param headItem {Json} 选项头格式如:{"label":"","pLabel":"","value":"请选择"} 如果设置了pKeyField,labelField,valueField请使用对应的值
 * @param dictName {String} 数据字典名
 * @param refname {String} 关联筛选的组件名
 * @param multiple {String} 是否多选
 * @param checkAll {boolean} 是否全选
 * @param delimiter {String} 多选时的显示分隔符
 * @param pKeyField {String} 用于渲染列表中的显示项目使用的item属性，默认为'pLabel'
 * @param labelField {String} 用于渲染列表中的显示项目使用的item属性，默认为'label'
 * @param valueField {String} 用于渲染列表中显示项目的实际值使用的item属性,默认为'value'
 * @param showLabel {Boolean} 是否在渲染列表项目时显示实际值，默认为false
 * @param events {Json} 事件，格示见示例
 * @description combox组件，下拉选项扩展组件
 * @see The <a href="huling@hundsun.com">huling</a >.   
 * @example \#combox({"label":"自定义静态字典","multiple":true, "name":"sysNodes3","showLabel":"true","labelField":"key","valueField":"val","items":[{"key":"0","val":"个人账户"},{"key":"1","val":"机构账户"},{"key":"3","val":"特殊机构账户"}], "events":[{"event":"onchange","function":"alert(2)"}], "check":""})
 * @since version 0.1
 *#	
#**
 * @lends combox
 *#
##combox 组件的宏 第一个参数是中文名，第二个是id，第三个是字典名

#** 
 * 修改记录:
 * 修改日期                          修改人员                              修改说明                 
 * -----------------------------------------------------------------------
 *  2015-10-26   刘龙                                   #14098 combox在数据为数据字典时，若是设置的value值不存在，也能显示
 *  2016-3-23    刘龙                                  bug#17190 多选框combox设置value值为后续additem添加的值，显示后输入框设置值，调用addItems(item)方法，原先选中的值会被value值覆盖
 * -----------------------------------------------------------------------
*#

#macro(combox $uiComboxConfig)
	#set($col = 4)
	#set($cols = "")
    #if($layoutcolumn) 
    	#if($layoutcolumn==1)
			#set($col = 12)
		#elseif($layoutcolumn==2)
			#set($col = 6)
			#if($uiComboxConfig.cols&&$uiComboxConfig.cols=="2")
				#set($cols = "g-grid-6-row")
			#end
		#elseif($layoutcolumn==3)
			#set($col = 4)
			#if($uiComboxConfig.cols)
				#if($uiComboxConfig.cols==3)
					#set($cols = "g-grid-4-row")
				#elseif($uiComboxConfig.cols==2)
					#set($cols = "g-grid-4-8-row")
				#end
			#end
		#elseif($layoutcolumn==4)
			#set($col = 3)
			#if($uiComboxConfig.cols)
				#if($uiComboxConfig.cols==4)
					#set($cols = "g-grid-3-row")
				#elseif($uiComboxConfig.cols==3)
					#set($cols = "g-grid-3-9-row")
				#elseif($uiComboxConfig.cols==2)
					#set($cols = "g-grid-3-6-row")
				#end
			#end
		#end
    #end
	##查看模式
    #if($view)
        #set($val = "")
        #set($val = $uiComboxConfig.value)
        #if((!$val || $val =="") && $uiComboxConfig.name )
            #set($val =  "$horn.getValue($!uiComboxConfig.name)")
        #end
		<div class="g-grid-$col #if($cols!="")$cols#end">
	  	<div class="g-unit-wrap">
			#if(!$uiComboxConfig.hiddenLabel)
		    <label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end><span ref="$!uiComboxConfig.name" title="$!{uiComboxConfig.label}">$!{uiComboxConfig.label}</span></label>
		    #end
			<div class="g-grid-8">
				<div name="$!{uiComboxConfig.name}" class="hc_label" #if($uiComboxConfig.multiple) mutiValue="true" #end
                #if($uiComboxConfig.dictName)
    				dictName="$!{uiComboxConfig.dictName}"
    				$horn.addGlobal('componentSelects_s',$!{uiComboxConfig.dictName})
				#end
				 $horn.paramsCache($uiComboxConfig) 
    			>$!val</div>
			</div>
	    </div>
	 </div>
	#else
    	#set($items=[])
		#set($pKeyField = "pLabel" ) 
		#set($keyField = "label" ) 
        #set($titleField = "value")
        #if($uiComboxConfig.items)
        	#set($items = $uiComboxConfig.items)
        #elseif($dictManager && $uiComboxConfig.dictName)
            #set($items = $dictManager.getDicts($uiComboxConfig.dictName))
		#end
		#foreach($item in $items)
			#if($item.code)
				#set($keyField = "code" ) 
				#set($titleField = "text")
			#end
			#break
		#end

    	##如果有传入参数，则替换掉对应的field
    	#if($uiComboxConfig.pKeyField) 
    		#set($pKeyField = $uiComboxConfig.pKeyField ) 
		#end

    	#if($uiComboxConfig.labelField && $uiComboxConfig.labelField.length() > 0)
    		#set($keyField = $uiComboxConfig.labelField ) 
    	#end
    	#if($uiComboxConfig.codeField && $uiComboxConfig.codeField.length() > 0)
    		#set($keyField = $uiComboxConfig.codeField ) 
    	#end
    	#if($uiComboxConfig.valueField && $uiComboxConfig.valueField.length() > 0) 
    		#set($titleField = $uiComboxConfig.valueField )
    	#end
    	#if($uiComboxConfig.textField && $uiComboxConfig.textField.length() > 0) 
    		#set($titleField = $uiComboxConfig.textField )
    	#end
    	
    	##设置是否显示标签
    	#set($showLabel = false)
    	#if($uiComboxConfig.showLabel&&$uiComboxConfig.showLabel == "true")
    		#set($showLabel = true)
    	#end
        #set($multipleValue="")
		#set($multipleText="")
        #if($uiComboxConfig.delimiter)
            #set($delimiter=$!{uiComboxConfig.delimiter})
        #else
            #set($delimiter=",")
        #end
    	
		<div class="g-grid-$col #if($cols!="")$cols#end">
		  	<div class="g-unit-wrap">
		  	 #set($checkStr=$horn.getCheckStr($uiComboxConfig.name,$uiComboxConfig.check))
                #set($groupStr=$horn.getGroupStr($uiComboxConfig.name,$uiComboxConfig.group))
            	#if(!$uiComboxConfig.hiddenLabel)
				<label #if($layoutcolumn==1)class="g-grid-2 unit-label"#else class="g-grid-4 unit-label"#end title="$!uiComboxConfig.label">#if($checkStr.indexOf("required")>-1)<span class="m-verify-symbol">*</span>#end $!uiComboxConfig.label</label>
            	#end
				<div class="g-grid-8">
    				<div class="hc_combox" id="$!{uiComboxConfig.id}" $horn.paramsCache($uiComboxConfig)  pKeyField=$!{pKeyField} keyField=$!{keyField} titleField=$!{titleField} showLabel="$!{showLabel}">
                	#set($curvalue="")
                	#if($uiComboxConfig.value)
                		#set($curvalue=$!{uiComboxConfig.value})
                	#else
                		#set($curvalue="$horn.getValue($!uiComboxConfig.name)")
                	#end
                	<input type="hidden" name="$uiComboxConfig.name" 
                		#if($uiComboxConfig.alias)
                			alias="${uiComboxConfig.alias}"
                		#end
                	#if($uiComboxConfig.refname)
                		refname="$uiComboxConfig.refname" 
                	#end
                	#if(!$curvalue.equals(""))
                		value="$curvalue"
                    #else
                    	#if("$!uiComboxConfig.multiple" != "true" && $items.size()>0)
                			#set($item = $items.get(0))
                	        #set($itemLabelCommand="$"+"!"+"{item."+"$keyField"+"}")
                			#set($itemLabel = "#evaluate($itemLabelCommand)")
                            #if($uiComboxConfig.headItem)
                                #set($headItem = $uiComboxConfig.headItem)
                                #set($headItemLabelCommand="$"+"!"+"{headItem."+"$keyField"+"}")
                                #set($headItemLabel = "#evaluate($headItemLabelCommand)")
                                value="$headItemLabel"
                            #else
                                value="$itemLabel"
                            #end
                        #elseif("$!uiComboxConfig.multiple" == "true" && $items.size()>0 && ("$!uiComboxConfig.checkAll"=="true" || "$!uiComboxConfig.selectAll" == "true"))
							#foreach($item in $items)
                                    #set($itemLabelCommand="$"+"!"+"{item."+"$keyField"+"}")
                                    #set($itemLabel = "#evaluate($itemLabelCommand)")
									#set($itemTitleCommand="$"+"!"+"{item."+"$titleField"+"}")
                        			#set($itemTitle = "#evaluate($itemTitleCommand)")
                                    #if($velocityCount == $items.size())
                                        #set($multipleValue = $multipleValue+$!{itemLabel})
										#set($multipleText = $multipleText+$!{itemTitle})
                                    #else
                                        #set($multipleValue = $multipleValue+$!{itemLabel}+$!{delimiter})
										#set($multipleText = $multipleText+$!{itemTitle}+$!{delimiter})
                                    #end
                                #end
                            value = "$!{multipleValue}"
                    	#end
                	#end
                	check="$checkStr"
                	group="$groupStr"
                	 />
                	<input multiple="$!{uiComboxConfig.multiple}" selectMode="$!{uiComboxConfig.multiple}" type="text" class="u-select" 
                    	##foreach($event in $uiComboxConfig.events)
                    	##	$event.event = "$event.function" 
                    	##end
                    	#if($uiComboxConfig.dictName && $horn)
                    		#if($uiComboxConfig.multiple == true)
                    		 	ref="${uiComboxConfig.dictName}_m"
                    		#else
                    		 	ref="${uiComboxConfig.dictName}_s"
                    		#end
                    	#end
                    	#if(!$curvalue.equals(""))
                    		#if($uiComboxConfig.multiple == true)
								#if($dictManager && $uiComboxConfig.dictName)
        							#foreach($tmpVal in $curvalue.split("$!delimiter"))
                        				#set($tmp = $dictManager.getDictEntry($uiComboxConfig.dictName,$tmpVal));
										#set($multipleText = $multipleText+$!tmp.getValue()+$!{delimiter})
									#end
									value="$!multipleText"
								#else
									#foreach($tmpVal in $curvalue.split("$!delimiter"))
                        				#foreach($item in $items)
											#set($itemLabelCommand="$"+"!"+"{item."+"$keyField"+"}")
                                			#set($itemTitleCommand="$"+"!"+"{item."+"$titleField"+"}")
											#set($itemLabel = "#evaluate($itemLabelCommand)")
                            				#set($itemTitle = "#evaluate($itemTitleCommand)")
											#if($itemLabel==$tmpVal)
												#set($multipleText = $multipleText+$!itemTitle+$!{delimiter})
											#end
										#end
									#end
									value="$multipleText"
								#end
                    			
                    		#else
            					#if($dictManager && $uiComboxConfig.dictName)
            						#set($val = $dictManager.getDictEntry($uiComboxConfig.dictName,$curvalue));
            						##14098 combox在数据为数据字典时，若是设置的value值不存在，也能显示
            						#if("$!val"!="")
            							value="#if($showLabel)$curvalue:#end$!val.getValue()" 
            						#else
            							value=""
            						#end
                            	#else
                					#foreach($item in $items)
                    	    			#if($item.label == $curvalue)
            								#if($showLabel)
            									value="$item.label:$item.value" 
            								#else
            									value="$item.value" 
            								#end
                    	    			#end
            						#end
            						
            						
                            		#foreach($item in $items)
                            			#set($itemLabelCommand="$"+"!"+"{item."+"$keyField"+"}")
                            			#set($itemTitleCommand="$"+"!"+"{item."+"$titleField"+"}")
                        				#set($itemLabel = "#evaluate($itemLabelCommand)")
                        				#set($itemTitle = "#evaluate($itemTitleCommand)")
                            			#if($itemLabel == $curvalue)
                        					##如果有设置showLabel，则显示
                                			value="#if($showLabel)$itemLabel:#end$itemTitle"
                        				#end
                            		#end
                            	#end
            					
            					
            					
                    		#end
                    	#elseif($uiComboxConfig.multiple != true && $items.size()>0)
                    		#set($item = $items.get(0))
                    		##如果有设置showLabel，则显示
                            #set($itemLabelCommand="$"+"!"+"{item."+"$keyField"+"}")
                    		#set($itemTitleCommand="$"+"!"+"{item."+"$titleField"+"}")
                    		#set($itemLabel = "#evaluate($itemLabelCommand)")
                    		#set($itemTitle = "#evaluate($itemTitleCommand)")
                    		##如果有设置showLabel，则显示
                            #if($uiComboxConfig.headItem)
                                #set($headItem = $uiComboxConfig.headItem)
                                #set($headItemTitleCommand="$"+"!"+"{headItem."+"$titleField"+"}")
                                #set($headItemTitle = "#evaluate($headItemTitleCommand)")
                                value="$headItemTitle"
                            #else
                                value="#if($showLabel)$itemLabel:#end$itemTitle"
                            #end
                        #elseif($uiComboxConfig.multiple == true && $items.size()>0 && ($uiComboxConfig.checkAll==true || $uiComboxConfig.selectAll == true))
                            value="$!{multipleText}"
                    	#end
                            delimiter="$!{delimiter}" 
						#if($uiComboxConfig.emptyText) placeholder="$!uiComboxConfig.emptyText"#end
                	/>
					<i class="fa fa-caret-down u-select-down"></i>
                		#if($uiComboxConfig.dictName && $horn)
                			#foreach($dicname in $uiComboxConfig.dictName.split(","))
                				#if($uiComboxConfig.multiple == true)
                        		 	$horn.addGlobal('componentSelects_m',$dicname)
                        		#else
                        		 	$horn.addGlobal('componentSelects_s',$dicname)
                    			#end
                			#end
                    		
                		#else
                			
                			#if($items)
                				<div class="hc_checkboxdiv"
                					#if($uiComboxConfig.multiple == true)
                						multiple_line="true"
                					#else
                						multiple_line="false"
                					#end
                				>
                					<ul>
                
                						#foreach($pItem in $items)
                                            ##如果有设置showLabel，则显示
                                                #set($itemLabelCommand="$"+"!"+"{pItem."+"$keyField"+"}")
                                                #set($itemTitleCommand="$"+"!"+"{pItem."+"$titleField"+"}")
                                                #set($pKeyCommand="$"+"!"+"{pItem."+"$pKeyField"+"}")
                                                #set($itemLabel = "#evaluate($itemLabelCommand)")
                                                #set($itemTitle = "#evaluate($itemTitleCommand)")
                                                #set($pKey = "#evaluate($pKeyCommand)")
            
                                                <li title="$!{itemTitle}" pKeyCommand="$pKeyCommand" pKey="$!{pKey}" key="$!{itemLabel}"><label>
                                                    #if($uiComboxConfig.multiple == true)
                                                        <input type="checkbox" class="combox_input">
                                                    #end
            
                                                    #if($showLabel)<span class="hce_dictlabel" >$!{itemLabel}:</span>#end$!{itemTitle}
                                                </label></li>
                						#end
                					</ul>
                				</div>
                			#end
    					#end
					</div>	
            	</div>
		    </div>
		  </div>
	#end
	#set($uiComboxConfig = {})
#end

#**   
 * @author zhangc   
 * @class
 * @name ztree
 * @param name {String} 名称
 * @param id {String} 唯一标识
 * @param data {JSON} 组成树结构的组件
 * @param checkMode {String} radio/checkbox选择模式,单选和多选的选择
 * @param expandFirst {Boolean} 载入时展开
 * @param reRenderFn {Function} 用于对dom重新进行重新渲染的函数
 * @param nodeclick {String} 当节点被点击时使用的函数
 * @param beforenodeclick {String} 当节点被点击前会调用的函数。
 * @description 一个简单Ztree封装，暂仅作bate版本，慎用。
 * @see 
 * @example \#ztree({"name":"testztree","data":"$treedata","expandFirst":true,"checkMode":"checkbox","nodeclick":"show","beforenodeclick":"show"})
 * @since version 0.1
 *#	
#**
 * @lends ztree
 *#
#macro(ztree $params)
	
	<div class="g-ztree-wrap">
    	#if("$!params.toolbar"=="true")
    	<div id="div.ztreeBtn_$!{params.name}"  name="div.ztreeBtn_$!{params.name}" class="ztree_toolbar u-ztree-toolbar">
			<ul class="u-ztree-btn">
			     	<li><a href="javascript:void(0)" id="expand_$!{params.name}" name="expand_$!{params.name}" ><i class="fa fa-expand"></i>展开</a></li>
			     	<li><a href="javascript:void(0)" id="unexpand_$!{params.name}" name="unexpand_$!{params.name}"><i class="fa fa-compress"></i>收缩</a></li>
			     	<li><a href="javascript:void(0)" id="refresh_$!{params.name}" name="refresh_$!{params.name}"><i class="fa fa-refresh"></i>刷新</a></li>
		     </ul>
        </div>
    	#end
    	#if("$!params.search"=="true")
    	<div id="div.search_$!{params.name}"  name="div.search_$!{params.name}" class="u-ztree-search">
    		<input name="search_$!{params.name}" id="search_$!{params.name}" type="text" class="ztree_search u-ztree-search-input"/>
        </div>
		#end
		<div class="u-ztree">
            <div class="h_ztree" id="$!{params.id}" $horn.paramsCache($params)  name="$!{params.name}" style="overflow: auto;"
        		items='$!{params.data}'
        		#if($params.checkMode)
        			checkMode="$!{params.checkMode}"
        		#end
        		#if($params.expandFirst)
        			expandFirst="$!{params.expandFirst}"
        		#end
        		#if($params.reRenderFn)
        			reRenderFn="$!{params.reRenderFn}"
				#end
				#if($params.onExpand)
        			onExpand="$!{params.onExpand}"
				#else
					onExpand="jresplusUIZtreeOnExpand"
        		#end
        		treeclick="$!{params.nodeclick}" 
        		beforetreeclick="$!{params.beforenodeclick}">
                <div class="ztree"></div>
            </div>
		</div>
    </div>
#end
